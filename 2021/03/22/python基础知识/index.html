<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"xcode361.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="回顾pyhon基础知识 主要来源于廖雪峰官网 深度之眼课程 python简介：C语言与python的区别就是c语言是用来编写操作系统贴近硬件的语言，而python是用来编写应用程序的高级编程语言c是编译型语言 python是解释型语言高级语言按执行方式分为：编译型和解释型 按类型声明分：动态和静态   当你用一种语言开始作真正的软件开发时，你除了编写代码外，还需要很多基本的已经写好的现成的东西，来">
<meta property="og:type" content="article">
<meta property="og:title" content="python基础知识">
<meta property="og:url" content="https://xcode361.github.io/2021/03/22/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/index.html">
<meta property="og:site_name" content="郑嘉晖の博客">
<meta property="og:description" content="回顾pyhon基础知识 主要来源于廖雪峰官网 深度之眼课程 python简介：C语言与python的区别就是c语言是用来编写操作系统贴近硬件的语言，而python是用来编写应用程序的高级编程语言c是编译型语言 python是解释型语言高级语言按执行方式分为：编译型和解释型 按类型声明分：动态和静态   当你用一种语言开始作真正的软件开发时，你除了编写代码外，还需要很多基本的已经写好的现成的东西，来">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://xcode361.github.io/2021/03/22/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E4%B8%8B%E8%BD%BD/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/0.png">
<meta property="og:image" content="https://xcode361.github.io/2021/03/22/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E4%B8%8B%E8%BD%BD/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/1.png">
<meta property="og:image" content="https://xcode361.github.io/2021/03/22/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E4%B8%8B%E8%BD%BD/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/8.png">
<meta property="og:image" content="https://xcode361.github.io/2021/03/22/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E4%B8%8B%E8%BD%BD/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/9.png">
<meta property="og:image" content="https://xcode361.github.io/2021/03/22/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E4%B8%8B%E8%BD%BD/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/10.png">
<meta property="og:image" content="https://xcode361.github.io/2021/03/22/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E4%B8%8B%E8%BD%BD/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/4.png">
<meta property="og:image" content="https://xcode361.github.io/2021/03/22/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E4%B8%8B%E8%BD%BD/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/5.png">
<meta property="og:image" content="https://xcode361.github.io/2021/03/22/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E4%B8%8B%E8%BD%BD/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/11.png">
<meta property="og:image" content="https://xcode361.github.io/2021/03/22/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E4%B8%8B%E8%BD%BD/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/6.png">
<meta property="og:image" content="https://xcode361.github.io/2021/03/22/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E4%B8%8B%E8%BD%BD/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/7.png">
<meta property="og:image" content="https://xcode361.github.io/2021/03/22/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E4%B8%8B%E8%BD%BD/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/12.png">
<meta property="og:image" content="https://xcode361.github.io/2021/03/22/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E4%B8%8B%E8%BD%BD/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/13.png">
<meta property="og:image" content="https://xcode361.github.io/2021/03/22/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E4%B8%8B%E8%BD%BD/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/14.png">
<meta property="og:image" content="https://xcode361.github.io/2021/03/22/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E4%B8%8B%E8%BD%BD/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/15.png">
<meta property="og:image" content="https://xcode361.github.io/2021/03/22/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E4%B8%8B%E8%BD%BD/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/16.png">
<meta property="article:published_time" content="2021-03-22T04:38:52.000Z">
<meta property="article:modified_time" content="2021-03-22T04:40:03.748Z">
<meta property="article:author" content="郑嘉晖">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://xcode361.github.io/2021/03/22/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E4%B8%8B%E8%BD%BD/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/0.png">

<link rel="canonical" href="https://xcode361.github.io/2021/03/22/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>python基础知识 | 郑嘉晖の博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">郑嘉晖の博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">记录成长</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">7</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">8</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">18</span></a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/xcode361" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xcode361.github.io/2021/03/22/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/author.jpg">
      <meta itemprop="name" content="郑嘉晖">
      <meta itemprop="description" content="不断进步">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郑嘉晖の博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          python基础知识
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-03-22 12:38:52 / 修改时间：12:40:03" itemprop="dateCreated datePublished" datetime="2021-03-22T12:38:52+08:00">2021-03-22</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>回顾pyhon基础知识 主要来源于廖雪峰官网 深度之眼课程</p>
<h2 id="python简介："><a href="#python简介：" class="headerlink" title="python简介："></a>python简介：</h2><p>C语言与python的区别就是c语言是用来编写操作系统贴近硬件的语言，而python是用来编写应用程序的高级编程语言<br>c是编译型语言 python是解释型语言<br>高级语言按<em>执行方式</em>分为：编译型和解释型 按<em>类型声明</em>分：动态和静态  </p>
<p>当你用一种语言开始作真正的软件开发时，你除了编写代码外，还需要很多基本的已经写好的现成的东西，来帮助你加快开发进度，比如说，要编写一个电子邮件客户端，如果先从最底层开始编写网络协议相关的代码，那估计一年半载也开发不出来。高级编程语言通常都会提供一个比较完善的基础代码库，让你能直接调用，比如，针对电子邮件协议的<strong>SMTP库</strong>，针对桌面环境的<strong>GUI库</strong>，在这些已有的代码库的基础上开发，一个电子邮件客户端几天就能开发出来。</p>
<p>Python就为我们提供了非常完善的基础代码库，覆盖了网络、文件、GUI、数据库、文本等大量内容，被形象地称作<strong>“内置电池（batteries included）”</strong>。用Python开发，许多功能不必从零编写，直接使用现成的即可。</p>
<p>除了内置的库外，Python还有大量的第三方库，也就是别人开发的，供你直接使用的东西。当然，如果你开发的代码通过很好的封装，也可以作为<strong>第三方库</strong>给别人使用。</p>
<p>许多大型网站就是用Python开发的，例如YouTube、Instagram，还有国内的豆瓣。很多大公司，包括Google、Yahoo等，甚至NASA（美国航空航天局）都大量地使用Python。</p>
<p>python用来开发哪些应用呢?<br>python用来开发 网络应用(网站、后台服务等) 日常小工具、脚本之类</p>
<p>缺点：<br>1、不能加密 因为是解释型语言所以要发布源代码 而c语言只需要发布exe文件<br>2、运行速度慢 一行一行的翻译编码</p>
<p>建议按照PEP8格式规范编写代码</p>
<h2 id="python解释器："><a href="#python解释器：" class="headerlink" title="python解释器："></a>python解释器：</h2><p>当我们编写Python代码时，我们得到的是一个包含Python代码的以.py为扩展名的文本文件。要运行代码，就需要Python解释器去执行.py文件</p>
<p>python解释器有：cpython、ipython、pypy、jython、ironpython等  jupyter就是ipython解释器</p>
<h1 id="0输入与输出"><a href="#0输入与输出" class="headerlink" title="0输入与输出"></a>0输入与输出</h1><p> 输入与输出：</p>
<p>输出：<br>数据存储到哪里去？<br>1.存储到硬盘或者网络端<br>2.打印输出print  </p>
<p>1、比较不同的输出 c语言的输出：printf(“hello”);<br>python2的输出 printf”hello” python3的输出 print(“hello”)<br>2、print()函数也可以接受多个字符串，用逗号“,”隔开，就可以连成一串输出<br>print(‘The quick brown fox’, ‘jumps over’, ‘the lazy dog’)<br>print()会依次打印每个字符串，遇到逗号“,”会输出一个空格<br>3、也可以用＋号链接<br>print(“Well”+” done”)<br>4、还可以打印多行<br>print(“hello\n”*3)  </p>
<p>输入：<br>文件从哪里来？<br>1.外部文件导入(从本地硬盘、网络端读入等）</p>
<p>2.程序中定义 比如 age=18 name=’tom’</p>
<p>3.动态交互输入</p>
<p>Python提供了一个input()，可以让用户输入，并存放到一个变量里返回一个<strong>字符串</strong>还可以有提示语句<br>name=input()<br>input通常和内置函数eval()一起使用</p>
<p>eval原型 eval(expression[, globals[, locals]])<br>eval作用：将<strong>字符串</strong>str当成<strong>有效的表达式</strong>并返回计算结果，其主要作用将字符串str转回成list、dict、tuple,这样在网络相应返回数据包的时候还原很好用</p>
<p>expression–表达式<br>globals – 变量作用域，全局命名空间，如果被提供，则必须是一个<strong>字典对象</strong>。<br>locals – 变量作用域，局部命名空间，如果被提供，可以是任何映射对象。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a=<span class="number">1</span></span><br><span class="line">c=<span class="built_in">eval</span>(<span class="string">&#x27;a*2&#x27;</span>) <span class="comment">#意思就是给一个字符串会当作有效的表达形式</span></span><br><span class="line">print(c)</span><br><span class="line"></span><br><span class="line">a = <span class="string">&quot;[[1,2], [3,4], [5,6], [7,8], [9,0]]&quot;</span></span><br><span class="line">b = <span class="built_in">eval</span>(a)</span><br><span class="line">print(b)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">[[1, 2], [3, 4], [5, 6], [7, 8], [9, 0]]</span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#对于参数global 和local的作用是：python对于变量先查找局部 再全局 最后内置 通常指定的小的作用域会覆盖大的作用域 </span></span><br><span class="line">a=<span class="number">10</span></span><br><span class="line">b=<span class="number">20</span></span><br><span class="line">c=<span class="number">30</span></span><br><span class="line">g=&#123;<span class="string">&#x27;a&#x27;</span>:<span class="number">6</span>,<span class="string">&#x27;b&#x27;</span>:<span class="number">8</span>&#125;</span><br><span class="line">t=&#123;<span class="string">&#x27;b&#x27;</span>:<span class="number">100</span>,<span class="string">&#x27;c&#x27;</span>:<span class="number">10</span>&#125;</span><br><span class="line">print(<span class="built_in">eval</span>(<span class="string">&#x27;a+b+c&#x27;</span>,g,t))</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">116</span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#使用input和eval函数一起使用</span></span><br><span class="line">num=<span class="built_in">eval</span>(<span class="built_in">input</span>(<span class="string">&quot;请输入num的值&quot;</span>))</span><br><span class="line"><span class="built_in">type</span>(num)</span><br><span class="line"><span class="comment">#不使用eval返回的就是字符串str</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">请输入num的值23</span><br></pre></td></tr></table></figure>





<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">int</span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&#x27;The quick brown fox&#x27;</span>, <span class="string">&#x27;jumps over&#x27;</span>, <span class="string">&#x27;the lazy dog&#x27;</span>)</span><br><span class="line">print(<span class="string">&quot;Well&quot;</span>+<span class="string">&quot; done&quot;</span>)</span><br><span class="line">print(<span class="string">&quot;hello\n&quot;</span>*<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">name=<span class="built_in">input</span>(<span class="string">&quot;please enter your name&quot;</span>)</span><br><span class="line">print(name,<span class="string">&quot;你是大笨蛋&quot;</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">The quick brown fox jumps over the lazy dog</span><br><span class="line">Well done</span><br><span class="line">hello</span><br><span class="line">hello</span><br><span class="line">hello</span><br><span class="line"></span><br><span class="line">please enter your namezzc</span><br><span class="line">zzc 你是大笨蛋</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#输出的方式说明</span></span><br><span class="line"><span class="comment">#1.直接打印字符串和数字</span></span><br><span class="line">print(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line">print(<span class="number">456</span>)</span><br><span class="line"><span class="comment">#2 打印变量</span></span><br><span class="line">x=<span class="number">2</span></span><br><span class="line">print(x)</span><br><span class="line"><span class="comment">#3 print中默认换行</span></span><br><span class="line">print(<span class="number">1</span>)</span><br><span class="line">print(<span class="number">2</span>)</span><br><span class="line"><span class="comment">#只要加end参数就可以不选择换行</span></span><br><span class="line">print(<span class="string">&quot;加了end之后的第一行&quot;</span>,end=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">print(<span class="string">&quot;加了end之后的第二行&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#几个变量一起组合输出用逗号连接即可如</span></span><br><span class="line">PI=<span class="number">3.1415926</span></span><br><span class="line">E=<span class="number">2.71828</span></span><br><span class="line">print(<span class="string">&quot;PI =&quot;</span>,PI,<span class="string">&quot;E= &quot;</span>,E) </span><br><span class="line"></span><br><span class="line"><span class="comment">#格式化的输出方法 format</span></span><br><span class="line"><span class="comment">#基本格式 “字符&#123;0&#125;字符&#123;1&#125;&quot;.format(v0,v1)</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;PI=&#123;1&#125;,E=&#123;0&#125;&quot;</span>.<span class="built_in">format</span>(PI,E))</span><br><span class="line"></span><br><span class="line"><span class="comment">#format的修饰性输出</span></span><br><span class="line"><span class="comment">#format严格输出格式顺序：：冒号引导 填充符(*—之类) 对齐(&lt;^&gt;) 宽度 千分位分隔符, 精度(小数点后几位) 类型(整数类型、浮点数类型)</span></span><br><span class="line"><span class="comment">#1 填充输出   _____3.1415926_______</span></span><br><span class="line">print(<span class="string">&quot;&#123;0:_^20&#125;&quot;</span>.<span class="built_in">format</span>(<span class="number">3.1415926</span>))  <span class="comment">#含义是0表示是用后面的填充 ：表示要开始修饰</span></span><br><span class="line"><span class="comment"># 20表示宽度是20 ^的含义是数字放中间 &lt;表示左对齐 放左边 &gt;右对齐   </span></span><br><span class="line"><span class="comment">#该format格式的含义是：数字宽度20数字在中间，不足的用_填充</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;&#123;0:*&lt;20&#125;&quot;</span>.<span class="built_in">format</span>(PI))</span><br><span class="line">print()</span><br><span class="line"></span><br><span class="line"><span class="comment">#2 数字千分位分隔符</span></span><br><span class="line">print(<span class="string">&quot;&#123;0:,&#125;&quot;</span>.<span class="built_in">format</span>(<span class="number">100000</span>)) </span><br><span class="line"><span class="comment">#和修饰一起用</span></span><br><span class="line">print(<span class="string">&quot;&#123;0:*&lt;15,&#125;&quot;</span>.<span class="built_in">format</span>(<span class="number">100000</span>)) <span class="comment">#这个表示用星号填充左对齐 千分位分隔 需要注意的是千分位分隔必须在最后</span></span><br><span class="line"><span class="comment">#print(&quot;&#123;0:,*&lt;15&#125;&quot;.format(100000)) 这样写错误</span></span><br><span class="line">print()</span><br><span class="line"></span><br><span class="line"><span class="comment">#3 浮点数简化输出</span></span><br><span class="line">print(<span class="string">&quot;&#123;0:.2f&#125;&quot;</span>.<span class="built_in">format</span>(PI)) <span class="comment">#留两位小数</span></span><br><span class="line">print(<span class="string">&quot;&#123;0:.1%&#125;&quot;</span>.<span class="built_in">format</span>(<span class="number">0.8177</span>)) <span class="comment">#百分号可以按百分位输出</span></span><br><span class="line">print(<span class="string">&quot;&#123;0:.2e&#125;&quot;</span>.<span class="built_in">format</span>(<span class="number">0.8187</span>)) <span class="comment">#科学计数法输出</span></span><br><span class="line">print()</span><br><span class="line"></span><br><span class="line"><span class="comment">#4 整数的进制转化输出十进制整数转二进制、unicode码 十进制 八进制 十六进制输出</span></span><br><span class="line"><span class="comment">#二进制&#123;0:b&#125;,unicode码&#123;0:c&#125; 十进制&#123;0:d&#125; 八进制&#123;0:o&#125; 十六进制&#123;0:x&#125;</span></span><br><span class="line">print(<span class="string">&quot;二进制&#123;0:b&#125;,unicode码&#123;0:c&#125; 十进制&#123;0:d&#125; 八进制&#123;0:o&#125; 十六进制&#123;0:x&#125;&quot;</span>.<span class="built_in">format</span>(<span class="number">450</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">hello</span><br><span class="line">456</span><br><span class="line">2</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">加了end之后的第一行加了end之后的第二行</span><br><span class="line">PI &#x3D; 3.1415926 E&#x3D;  2.71828</span><br><span class="line">PI&#x3D;2.71828,E&#x3D;3.1415926</span><br><span class="line">_____3.1415926______</span><br><span class="line">3.1415926***********</span><br><span class="line"></span><br><span class="line">100,000</span><br><span class="line">100,000********</span><br><span class="line"></span><br><span class="line">3.14</span><br><span class="line">81.8%</span><br><span class="line">8.19e-01</span><br><span class="line"></span><br><span class="line">二进制111000010,unicode码ǂ 十进制450 八进制702 十六进制1c2</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>BIF：Built-in-Function 内置函数 dir(<strong>builtsins</strong>)<br>help( )内置函数显示函数帮助</p>
<h1 id="1-python基础知识-数据类型与变量-、常用运算符、字符与编码问题"><a href="#1-python基础知识-数据类型与变量-、常用运算符、字符与编码问题" class="headerlink" title="1 python基础知识: 数据类型与变量 、常用运算符、字符与编码问题"></a>1 python基础知识: 数据类型与变量 、常用运算符、字符与编码问题</h1><p>数据类型有 ：整数(不解释) 浮点数(1.1e10) 字符串(字符串是以单引号’或双引号”括起来的任意文本，比如’abc’，”xyz”等等。)  布尔值 以及组合的数据类型</p>
<p>变量<br>变量需要注意的地方  </p>
<ol>
<li><p>变量在程序中就是用一个变量名表示了，变量名必须是大小写英文、数字和_的组合，且不能用数字开头</p>
</li>
<li><p>使用变量前必须对它进行赋值</p>
</li>
<li><p>大小写敏感</p>
<p>#1整数 Python可以处理任意大小的整数，当然包括负整数，在程序中的表示方法和数学上的写法一模一样，例如：1，100，-8080，0，等等</p>
</li>
</ol>
<p>计算机由于使用二进制，所以，有时候用十六进制表示整数比较方便，十六进制用0x前缀和0-9，a-f表示，例如：0xff00，0xa5b4c3d2，等等</p>
<p>对于很大的数，例如10000000000，很难数清楚0的个数。Python允许在数字中间以_分隔，因此，写成10_000_000_000和10000000000是完全一样的。十六进制数也可以写成0xa1b2_c3d4</p>
<p>#2浮点数也就是小数，之所以称为浮点数，是因为按照科学记数法表示时，一个浮点数的小数点位置是可变的，比如，1.23x109和12.3x108是完全相等的。</p>
<p>浮点数可以用数学写法，如1.23，3.14，-9.01，等等。但是对于很大或很小的浮点数，就必须用科学计数法表示，把10用e替代，1.23x109就是1.23e9，或者12.3e8，0.000012可以写成1.2e-5，等等。</p>
<p>整数和浮点数在计算机内部存储的方式是不同的，整数运算永远是精确的（除法难道也是精确的？是的！），而浮点数运算则可能会有四舍五入的误差</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#常用数据类型</span></span><br><span class="line"><span class="comment">#整型 可以直接大数运算不像c语言还得有长整型</span></span><br><span class="line"><span class="comment">#浮点型</span></span><br><span class="line">b=<span class="number">1.23</span></span><br><span class="line">print(<span class="built_in">type</span>(b))</span><br><span class="line"><span class="comment">#布尔值</span></span><br><span class="line"><span class="literal">True</span>  <span class="keyword">and</span> <span class="literal">False</span></span><br><span class="line">print(<span class="built_in">type</span>(<span class="literal">True</span>))  </span><br><span class="line"><span class="comment">#数据类型转换 int() float()</span></span><br><span class="line">c=<span class="number">5.99</span></span><br><span class="line">a=<span class="built_in">int</span>(c)</span><br><span class="line"><span class="comment">#将float变为int会采取截断的方式</span></span><br><span class="line">print(a)</span><br><span class="line">x=<span class="number">520</span></span><br><span class="line">y=<span class="built_in">float</span>(x)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#用type()和isinstance可以查看数据类型</span></span><br><span class="line">print(<span class="built_in">type</span>(x))</span><br><span class="line"><span class="built_in">isinstance</span>(x,<span class="built_in">int</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#数据类型转换</span></span><br><span class="line"><span class="comment"># int() float() str()</span></span><br><span class="line"><span class="comment">#int将字符串 浮点 转换成为一个整数 其他类似</span></span><br><span class="line">z=<span class="string">&#x27;520&#x27;</span></span><br><span class="line"><span class="built_in">int</span>(z)</span><br><span class="line">z</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;class &#39;float&#39;&gt;</span><br><span class="line">&lt;class &#39;bool&#39;&gt;</span><br><span class="line">5</span><br><span class="line">&lt;class &#39;int&#39;&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#39;520&#39;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>#3字符串是以单引号’或双引号”括起来的任意文本，比如’abc’，”xyz”等等。请注意，’’或””本身只是一种表示方式，不是字符串的一部分，因此，字符串’abc’只有a，b，c这3个字符。如果’本身也是一个字符，那就可以用””括起来，比如”I’m OK”包含的字符是I，’，m，空格，O，K这6个字符</p>
<p>如果字符串内部既包含’又包含”怎么办？可以用转义字符\来标识 比如</p>
<p>\还可以用来换行继续输入</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&#x27;I\&#x27;m \&quot;OK\&quot;!&#x27;</span>)</span><br><span class="line"><span class="comment">#或者使用原始字符串</span></span><br><span class="line">string=<span class="string">&quot;c:\now&quot;</span></span><br><span class="line"><span class="comment">#被识别成了换行\n</span></span><br><span class="line">print(string)</span><br><span class="line">string1=<span class="string">r&quot;c:\now&quot;</span></span><br><span class="line">print(string1)</span><br><span class="line"><span class="comment">#长字符串 使用三重引号内容&quot;&quot;&quot; content&quot;&quot;&quot;</span></span><br><span class="line">print(<span class="string">&quot;&quot;&quot; 从明天起，做一个幸福的人</span></span><br><span class="line"><span class="string">            喂马，劈柴，周游世界</span></span><br><span class="line"><span class="string">            从明天起，关心粮食和蔬菜</span></span><br><span class="line"><span class="string">            我有一所房子</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span>)</span><br><span class="line">  </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">I&#39;m &quot;OK&quot;!</span><br><span class="line">c:</span><br><span class="line">ow</span><br><span class="line">c:\now</span><br><span class="line"> 从明天起，做一个幸福的人</span><br><span class="line">            喂马，劈柴，周游世界</span><br><span class="line">            从明天起，关心粮食和蔬菜</span><br><span class="line">            我有一所房子</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>​    </p>
<p>字符串常用处理方法 </p>
<p>python中字符与编码的问题<br>  计算机最底层所有数据都是0和1组成的因此需要进行编码。最早的计算机在设计时采用8个比特（bit）作为一个字节（byte），所以，一个字节能表示的最大的整数就是255<br>  由于计算机是美国人发明的，因此，最早只有127个字符被编码到计算机里，也就是大小写英文字母、数字和一些符号，这个编码表被称为ASCII编码，比如大写字母A的编码是65，小写字母z的编码是122 ，8位中最开始的一位不用，即ascii码用的是7位个比特位进行表示的。  </p>
<p>  但是对于其他国家而言需要表示自己国家的语言因此各国需要对应进行编码，表示自己国家的文字。比如中国的GB2312，每个国家都有自己的编码方式就混乱了 因此需要统一 于是有了unicode编码， 随后因为unicode比较耗费空间又衍生出了utf—8编码，utf-8编码是一部分保留1个字节如ascii编码其他的用2个字节等，节省了空间。  </p>
<p>  (python2中不区分str与bytes类型)<br>  计算机系统中编码方式是如何运行的呢？  </p>
<p>  内存中是统一使用unicode的编码方式的，然后保存在硬盘或者需要传输的时候就转换为utf—8编码方式，如下图所示<br>  <img src="/2021/03/22/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E4%B8%8B%E8%BD%BD/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/0.png" alt="jupyter"><br>  在浏览网页的时候，服务器会把动态生成的Unicode内容转换为UTF-8再传输到浏览器 很多网页的源码上会有类似 meta charset=”UTF-8” 的信息，表示该网页正是用的UTF-8编码<br>  <img src="/2021/03/22/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E4%B8%8B%E8%BD%BD/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/1.png" alt="jupyter"><br>所以在我们编码成.py文件然后让解释器去运行的时候需要告诉解释器如何去编码 python内部是<strong>默认unicode编码</strong>的<br>#!/usr/bin/env python3 # -<em>- coding: utf-8 -</em>- 经常看到这两行的意思<br>第一行注释是为了告诉Linux/OS X系统，这是一个Python可执行程序，Windows系统会忽略这个注释；<br>第二行注释是为了告诉Python解释器，按照UTF-8编码读取源代码，否则，你在源代码中写的中文输出可能会有乱码，python解释器会自动把源代码以unicode的方式进行编码</p>
<p>在txt中保存的时候可以选择保存为ansi 含义是系统自己带的比如中国的是gbk编码 文件打开with open有默认参数encoding是系统自带的 但是我们也也可以设置编码方式</p>
<p>在网络爬虫的时候需要注意编码方式<br>encode和decode函数<br>a.encode(encoding=’utf-8’)可以将a编码成二进制形式<br>decode()进行解析</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;123.txt&quot;</span>,<span class="string">&quot;r&quot;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    print(f.read())</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">﻿我是吗啡</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#将字符串转化为Unicode编码 ord</span></span><br><span class="line">print(<span class="built_in">ord</span>(<span class="string">&quot;1&quot;</span>))</span><br><span class="line">print(<span class="built_in">ord</span>(<span class="string">&quot;中&quot;</span>))</span><br><span class="line"><span class="comment">#将unicode码转化为字符串 chr</span></span><br><span class="line">print(<span class="built_in">chr</span>(<span class="number">1010</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">49</span><br><span class="line">20013</span><br><span class="line">ϲ</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>布尔值<br>布尔值和布尔代数的表示完全一致，一个布尔值只有True、False两种值，要么是True，要么是False，在Python中，可以直接用True、False表示布尔值（请注意大小写），也可以通过布尔运算计算出来</p>
<p>布尔值常见运算就是 and or not </p>
<p>空值是Python里一个特殊的值，用None表示。None不能理解为0，因为0是有意义的，而None是一个特殊的空值。</p>
<p>此外，Python还提供了列表、字典等多种数据类型，还允许创建自定义数据类型，我们后面会继续讲到</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#变量命名技巧 变量和函数名用下划线来命名 类名用驼峰式命名</span></span><br><span class="line"><span class="comment">#变量</span></span><br><span class="line">a=<span class="number">1</span></span><br><span class="line">strs=<span class="string">&#x27;你好&#x27;</span></span><br><span class="line">print(a)</span><br><span class="line">print(strs)</span><br><span class="line"><span class="comment">#a是一个整数 str是字符串</span></span><br><span class="line"><span class="comment">#变量的打包赋值</span></span><br><span class="line">x,y=<span class="number">1</span>,<span class="number">2</span></span><br><span class="line">x,y=y,x</span><br><span class="line">print(x,y)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#理解变量在内存中的表示</span></span><br><span class="line">a = <span class="string">&#x27;ABC&#x27;</span></span><br><span class="line">b = a</span><br><span class="line">a = <span class="string">&#x27;XYZ&#x27;</span></span><br><span class="line">print(b)</span><br><span class="line"><span class="comment">#与大多数编程语言不一样 其他编程语言赋值时会将值存储在内存中这块内存叫做变量，而python像是将名字贴在值的边上</span></span><br><span class="line"><span class="comment">#执行a = &#x27;ABC&#x27;，解释器创建了字符串&#x27;ABC&#x27;和变量a，并把a指向&#x27;ABC&#x27;</span></span><br><span class="line"><span class="comment">#执行b = a，解释器创建了变量b，并把b指向a指向的字符串&#x27;ABC&#x27;</span></span><br><span class="line"><span class="comment">#执行a = &#x27;XYZ&#x27;，解释器创建了字符串&#x27;XYZ&#x27;，并把a的指向改为&#x27;XYZ&#x27;，但b并没有更改</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#常量</span></span><br><span class="line"><span class="comment">#所谓常量就是不能变的变量，比如常用的数学常数π就是一个常量。在Python中，通常用全部大写的变量名表示常量</span></span><br><span class="line">PI = <span class="number">3.14159265359</span></span><br><span class="line"><span class="comment">#用全部大写的变量名表示常量只是一个习惯上的用法，如果你一定要改变变量PI的值，也没人能拦住你</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#其他的输出方式 %输出 f-string方式</span></span><br><span class="line"><span class="string">&quot;我是谁%s&quot;</span>%<span class="string">&quot;zjh&quot;</span></span><br><span class="line">r = <span class="number">2.5</span></span><br><span class="line">s = <span class="number">3.14</span> * r ** <span class="number">2</span></span><br><span class="line">print(<span class="string">f&#x27;The area of a circle with radius <span class="subst">&#123;r&#125;</span> is <span class="subst">&#123;s:<span class="number">.2</span>f&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">你好</span><br><span class="line">2 1</span><br><span class="line">ABC</span><br><span class="line">The area of a circle with radius 2.5 is 19.62</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#常用操作符 1 算数运算符+ - * / // % **   2比较运算符&lt; &gt; == !=  3.逻辑操作符 and or not 以及优先级问题</span></span><br><span class="line"><span class="comment">#//表示地板除的意思 舍弃小数</span></span><br><span class="line">print(<span class="number">10</span>/<span class="number">8</span>)</span><br><span class="line">print(<span class="number">10</span>//<span class="number">8</span>)</span><br><span class="line"><span class="comment">#注意幂运算和一元操作符的优先级关系比较特别 幂运算比其左侧的一元操作符优先级高，比右侧的一元操作符优先级低</span></span><br><span class="line">print(-<span class="number">3</span>**<span class="number">2</span>)</span><br><span class="line">print(<span class="number">3</span>**-<span class="number">2</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1.25</span><br><span class="line">1</span><br><span class="line">-9</span><br><span class="line">0.1111111111111111</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/2021/03/22/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E4%B8%8B%E8%BD%BD/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/8.png" alt="jupyter"></p>
<p>默认十进制<br>二进制0b表示 八进制0o表示 十六进制0x</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">16</span> == <span class="number">0b10000</span>==<span class="number">0o20</span> ==<span class="number">0x10</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">True</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#十进制与其他进止转换</span></span><br><span class="line">a=<span class="built_in">bin</span>(<span class="number">16</span>) <span class="comment">#转二进制</span></span><br><span class="line">b=<span class="built_in">oct</span>(<span class="number">16</span>) <span class="comment">#转八进制</span></span><br><span class="line">c=<span class="built_in">hex</span>(<span class="number">16</span>)<span class="comment"># 转十六进制</span></span><br><span class="line">print(a,b,c)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">0b10000 0o20 0x10</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>注意转换后得到的是字符串类型</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print(a==b==c)</span><br><span class="line"><span class="built_in">type</span>(a)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">False</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">str</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>其他进止转换为十进制</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">d=<span class="built_in">int</span>(a,<span class="number">2</span>) <span class="comment">#用int转换为10进制 只需要指定后面的进制就行</span></span><br><span class="line">e=<span class="built_in">int</span>(b,<span class="number">8</span>)</span><br><span class="line">f=<span class="built_in">int</span>(c,<span class="number">16</span>)</span><br><span class="line">print(d,e,f)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">16 16 16</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>浮点数的不确定性</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="number">0.1</span>+<span class="number">0.2</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">0.30000000000000004</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>为什么计算机内0.1+0.2不等于0.3呢？因为计算机内很多十进制不能用二进制数精确表示</p>
<p>比如十进制的0.5转换成二进制就是0.1<br>二进制0.00011001100110011001 表示的就是0.09999…无法直接表示0.1 因此影响了计算精度</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#四舍五入</span></span><br><span class="line">a=<span class="number">3</span>*<span class="number">0.1</span></span><br><span class="line">print(a)</span><br><span class="line">b=<span class="built_in">round</span>(a,<span class="number">1</span>)<span class="comment">#四舍五入 保留一位小数</span></span><br><span class="line">print(b)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">0.30000000000000004</span><br><span class="line">0.3</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#复数a+bj 大小写都行</span></span><br><span class="line">print(<span class="number">2</span>+<span class="number">3j</span>)</span><br><span class="line"><span class="comment">#虚部为1的时候，需要显示的写出</span></span><br><span class="line">print(<span class="number">2</span>+<span class="number">1j</span>)</span><br><span class="line">print(<span class="number">2</span>+<span class="number">3j</span> + <span class="number">2</span>+<span class="number">1j</span>)</span><br><span class="line"><span class="comment">#数字运算 +-*/ ** 整数商//(向下取整的意思) 模运算%</span></span><br><span class="line"><span class="comment">#整数与浮点数运算的结果是浮点数 整数与整数除法运算结果是浮点数(就算是8/2)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(2+3j)</span><br><span class="line">(2+1j)</span><br><span class="line">(4+4j)</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#常用运算函数</span></span><br><span class="line">print(<span class="built_in">abs</span>(-<span class="number">1</span>))</span><br><span class="line"><span class="built_in">pow</span>(<span class="number">2</span>,<span class="number">5</span>,<span class="number">3</span>) <span class="comment">#2^5%3的意思</span></span><br><span class="line">a=<span class="number">1.618</span></span><br><span class="line">print(<span class="built_in">round</span>(a)) <span class="comment">#四舍五入并保留几位</span></span><br><span class="line">print(<span class="built_in">round</span>(a,<span class="number">2</span>))</span><br><span class="line">print(<span class="built_in">round</span>(a,<span class="number">5</span>)) <span class="comment">#位数不足无需补齐</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#整数商和模运算divmod(x,y)</span></span><br><span class="line"><span class="comment">#等价于返回二元元组(x //y,x%y)</span></span><br><span class="line">print(<span class="built_in">divmod</span>(<span class="number">13</span>,<span class="number">5</span>))</span><br><span class="line"><span class="comment">#序列最大/最小值</span></span><br><span class="line">print(<span class="built_in">max</span>(<span class="number">3</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">9</span>,<span class="number">4</span>,<span class="number">5</span>))</span><br><span class="line">print(<span class="built_in">min</span>(<span class="number">3</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">9</span>,<span class="number">4</span>,<span class="number">5</span>))</span><br><span class="line"><span class="comment">#求和运算 需要传递序列比如字符串和元组</span></span><br><span class="line">print(<span class="built_in">sum</span>((<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>)))</span><br><span class="line">print(<span class="built_in">sum</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]))</span><br><span class="line"><span class="comment">#sum不能直接传入参数</span></span><br><span class="line"><span class="comment">#有时候借助某些库 math/scipy/numpy</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">1.62</span><br><span class="line">1.618</span><br><span class="line">(2, 3)</span><br><span class="line">9</span><br><span class="line">2</span><br><span class="line">21</span><br><span class="line">10</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="2-控制流程-包括顺序流程-分支流程-循环流程"><a href="#2-控制流程-包括顺序流程-分支流程-循环流程" class="headerlink" title="2 控制流程 包括顺序流程 分支流程 循环流程"></a>2 控制流程 包括顺序流程 分支流程 循环流程</h1><p>分支流程<br>if 条件：<br>    执行语句<br>else:<br>    执行语句<br>以及if elif语法 条件中可以是包含逻辑运算符的表达式<br>if &lt;条件判断1&gt;:<br>    &lt;执行1&gt;<br>elif &lt;条件判断2&gt;:<br>    &lt;执行2&gt;<br>elif &lt;条件判断3&gt;:<br>    &lt;执行3&gt;<br>else:<br>    &lt;执行4&gt;<br>if语句执行有个特点，它是从上往下判断，如果在某个判断上是True，把该判断对应的语句执行后，就忽略掉剩下的elif和else<br>三元表达式 条件语句  small = x if x&lt;y else y</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">age = <span class="number">20</span></span><br><span class="line"><span class="keyword">if</span> age &gt;= <span class="number">6</span>:</span><br><span class="line">    print(<span class="string">&#x27;teenager&#x27;</span>)</span><br><span class="line"><span class="keyword">elif</span> age &gt;= <span class="number">18</span>:</span><br><span class="line">    print(<span class="string">&#x27;adult&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">&#x27;kid&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">teenager</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>assert断言表达式 类似于if  断言成功继续执行 断言失败抛出异常<br>assert 表达式 条件为假时抛出异常 </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span>(<span class="params">a</span>):</span></span><br><span class="line">    <span class="keyword">assert</span> a==<span class="number">2</span>,Exception(<span class="string">&quot;不等于2&quot;</span>) <span class="comment">#不等于2的时候抛出异常</span></span><br><span class="line"></span><br><span class="line">foo(<span class="number">1</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">---------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">AssertionError                            Traceback (most recent call last)</span><br><span class="line"></span><br><span class="line">&lt;ipython-input-42-aa54e83ca8a5&gt; in &lt;module&gt;</span><br><span class="line">      2     assert a&#x3D;&#x3D;2,Exception(&quot;不等于2&quot;) #不等于2的时候抛出异常</span><br><span class="line">      3 </span><br><span class="line">----&gt; 4 foo(1)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;ipython-input-42-aa54e83ca8a5&gt; in foo(a)</span><br><span class="line">      1 def foo(a):</span><br><span class="line">----&gt; 2     assert a&#x3D;&#x3D;2,Exception(&quot;不等于2&quot;) #不等于2的时候抛出异常</span><br><span class="line">      3 </span><br><span class="line">      4 foo(1)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">AssertionError: 不等于2</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>循环语句<br>while 循环<br>while 条件：<br>循环体</p>
<p>for循环<br>for 元素 in 可迭代对象：<br>执行语句  </p>
<p>break 满足条件提前结束循环 continue 跳过当前循环进行下一轮循环<br>for和while还可以与else配合 当程序是从break中跳出的就不执行else语句</p>
<p>for还可以与range组合 for i in range(start,end,step)<br>与循环相关的语句还有break 和continue</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">n = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> n &lt;= <span class="number">100</span>:</span><br><span class="line">    <span class="keyword">if</span> n &gt; <span class="number">10</span>: <span class="comment"># 当n = 11时，条件满足，执行break语句</span></span><br><span class="line">        <span class="keyword">break</span> <span class="comment"># break语句会结束当前循环</span></span><br><span class="line">    print(n)</span><br><span class="line">    n = n + <span class="number">1</span></span><br><span class="line">print(<span class="string">&#x27;END&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">END</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">n = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> n &lt; <span class="number">10</span>:</span><br><span class="line">    n = n + <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> n % <span class="number">2</span> == <span class="number">0</span>: <span class="comment"># 如果n是偶数，执行continue语句</span></span><br><span class="line">        <span class="keyword">continue</span> <span class="comment"># continue语句会直接继续下一轮循环，后续的print()语句不会执行</span></span><br><span class="line">    print(n)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">3</span><br><span class="line">5</span><br><span class="line">7</span><br><span class="line">9</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">fa=<span class="string">&quot;让世界感受痛苦&quot;</span></span><br><span class="line"><span class="keyword">for</span> each <span class="keyword">in</span> fa:</span><br><span class="line">    print(each,end=<span class="string">&quot;&quot;</span>)  </span><br><span class="line"><span class="comment">#print打印完一次会自动换行</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">让世界感受痛苦</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span>[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]:</span><br><span class="line">    print(<span class="string">&quot;&#123;0:-^20&#125;&quot;</span>.<span class="built_in">format</span>(<span class="string">&quot;*&quot;</span> * (<span class="number">2</span>*i+<span class="number">1</span>)))</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">---------*----------</span><br><span class="line">--------***---------</span><br><span class="line">-------*****--------</span><br><span class="line">------*******-------</span><br><span class="line">-----*********------</span><br><span class="line">----***********-----</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="3-常用数据类型-列表-元组-字符串-三者都是序列-字典-集合"><a href="#3-常用数据类型-列表-元组-字符串-三者都是序列-字典-集合" class="headerlink" title="3 常用数据类型  列表 元组 字符串 三者都是序列 字典 集合"></a>3 常用数据类型  列表 元组 字符串 三者都是序列 字典 集合</h1><p>常用数据类型思维导图<br><img src="/2021/03/22/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E4%B8%8B%E8%BD%BD/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/9.png" alt="jupyter"></p>
<h2 id="3-1列表"><a href="#3-1列表" class="headerlink" title="3.1列表"></a>3.1列表</h2><p>列表的思维导图<br><img src="/2021/03/22/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E4%B8%8B%E8%BD%BD/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/10.png" alt="jupyter"></p>
<p>列表 [data1,data2,data3…..]是有位置顺序</p>
<p>列表掌握：</p>
<p>创建列表 直接创建或者list(iterable)  可迭代对象(可循环的)包括 字符串 元组 字典 集合<br>添加元素(append,extend,insert)<br>获取元素data[1]因为有序可以用下标方式访问<br>删除元素(remove,del,pop)<br>列表的分片  </p>
<p>列表的操作符(&gt; + * in, not in) +实现列表的拼接 * 某个元素好多<br>列表的方法(count() index() reverse() sort())</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#字符串转列表</span></span><br><span class="line"><span class="comment">#元组转列表</span></span><br><span class="line"><span class="comment">#集合转列表</span></span><br><span class="line"><span class="comment">#字典转列表</span></span><br><span class="line">print(<span class="built_in">list</span>(<span class="string">&quot;AI是人类未来的趋势&quot;</span>))</span><br><span class="line">print(<span class="built_in">list</span>((<span class="string">&quot;我&quot;</span>,<span class="string">&quot;们&quot;</span>,<span class="string">&quot;都&quot;</span>,<span class="string">&quot;一&quot;</span>,<span class="string">&quot;样&quot;</span>)))</span><br><span class="line">print(<span class="built_in">list</span>(&#123;<span class="string">&quot;李雷&quot;</span>,<span class="string">&quot;韩梅梅&quot;</span>,<span class="string">&quot;jim&quot;</span>&#125;))</span><br><span class="line"><span class="comment">#print(list(dict.key()))</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[&#39;A&#39;, &#39;I&#39;, &#39;是&#39;, &#39;人&#39;, &#39;类&#39;, &#39;未&#39;, &#39;来&#39;, &#39;的&#39;, &#39;趋&#39;, &#39;势&#39;]</span><br><span class="line">[&#39;我&#39;, &#39;们&#39;, &#39;都&#39;, &#39;一&#39;, &#39;样&#39;]</span><br><span class="line">[&#39;李雷&#39;, &#39;jim&#39;, &#39;韩梅梅&#39;]</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mix=[<span class="number">1</span>,<span class="string">&quot;zjh&quot;</span>,<span class="number">3.14</span>]</span><br><span class="line"><span class="comment">#添加元素</span></span><br><span class="line">mix.append(<span class="number">6</span>)</span><br><span class="line">mix.extend([<span class="string">&quot;love&quot;</span>,<span class="string">&quot;lh&quot;</span>]) <span class="comment">#extend添加的对象是仍然是列表</span></span><br><span class="line">mix.insert(<span class="number">0</span>,<span class="string">&quot;woshi&quot;</span>)   <span class="comment">#insert插入要给定指定位置</span></span><br><span class="line">mix</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[&#39;woshi&#39;, 1, &#39;zjh&#39;, 3.14, 6, &#39;love&#39;, &#39;lh&#39;]</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#删除元素  remove是列表的方法需要知道元素 del是语句直接删除整个列表 pop是列表的方法弹出元素弹出索引位置元素默认是最后一个（从0开始计数）</span></span><br><span class="line">name=[<span class="string">&quot;liwen&quot;</span>,<span class="string">&#x27;we&#x27;</span>,<span class="string">&#x27;ig&#x27;</span>]</span><br><span class="line">name.remove(<span class="string">&#x27;we&#x27;</span>)</span><br><span class="line">name</span><br><span class="line"><span class="keyword">del</span> name</span><br><span class="line">name=[<span class="string">&quot;小李&quot;</span>,<span class="string">&quot;小白&quot;</span>,<span class="string">&quot;小黑&quot;</span>,<span class="string">&quot;小黄&quot;</span>]</span><br><span class="line">name.pop(<span class="number">2</span>)</span><br><span class="line">name</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[&#39;小李&#39;, &#39;小白&#39;, &#39;小黄&#39;]</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>列表的切片[: : ] 三个位置 开始 结束 步长 切片不包括尾巴 即end-1</p>
<p>note:切片得到的是副本 即一个新的列表 有两个列表<br>而赋值语句 a=b是增加一个标签仍然指向原列表 只有一个列表  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line">b=a[<span class="number">1</span>:<span class="number">3</span>]</span><br><span class="line">print(b)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[2, 3]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>列表的常用自带方法<br>count计算某个元素出现的次数<br>index返回某个元素在列表中的位置<br>reverse对列表进行翻转，对列表自身<strong>永久操作</strong><br>ls.sort将列表进行排列默认从小到大sort(reverse=true)改成从大到小 <strong>原始列表发生了改变</strong><br>可变对象列表自带的方法会改变自身的值，但是对于不可变对象str之类自带方法会有返回值不改变自身<br>另外sorted(list)有返回值并不改变自身</p>
<p>列表中的深浅拷贝问题</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">list1=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">list2=list1</span><br><span class="line">list2[<span class="number">0</span>]=<span class="number">2</span></span><br><span class="line">print(list1)</span><br><span class="line"><span class="comment">#这样会改变list1吗？结果是会的 他二者都指向同一个东西 并没有创建副本 </span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[2, 2, 3]</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">list1=[<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">list2=list1.copy()</span><br><span class="line">list2[<span class="number">1</span>]=<span class="number">2</span></span><br><span class="line">print(list1)</span><br><span class="line"><span class="comment">#这样的拷贝就如同拷贝了一份副本不会对list1进行改变 这是浅拷贝</span></span><br><span class="line"><span class="comment">#浅拷贝：拷贝父对象（一级目录），子对象（二级目录）不拷贝，还是引用</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[2, 3, 4]</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#但是 当列表嵌套进行浅拷贝时</span></span><br><span class="line">list1=[<span class="string">&#x27;心蓝&#x27;</span>,<span class="number">18</span>,[<span class="string">&#x27;妹子&#x27;</span>,<span class="string">&#x27;健身&#x27;</span>]]</span><br><span class="line">list2=list1.copy()</span><br><span class="line">list2[<span class="number">2</span>].append(<span class="string">&#x27;打球&#x27;</span>)</span><br><span class="line">print(list1)</span><br><span class="line"></span><br><span class="line"><span class="comment">#下面情况是深拷贝情况</span></span><br><span class="line"><span class="keyword">import</span> copy</span><br><span class="line">list3=[<span class="string">&#x27;心心&#x27;</span>,<span class="number">18</span>,[<span class="string">&#x27;妹子&#x27;</span>,<span class="string">&#x27;健身&#x27;</span>]]</span><br><span class="line">list4=copy.deepcopy(list3)</span><br><span class="line">list4[<span class="number">2</span>].append(<span class="string">&#x27;打球&#x27;</span>)</span><br><span class="line">print(list3)</span><br><span class="line">print(list4)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[&#39;心蓝&#39;, 18, [&#39;妹子&#39;, &#39;健身&#39;, &#39;打球&#39;]]</span><br><span class="line">[&#39;心心&#39;, 18, [&#39;妹子&#39;, &#39;健身&#39;]]</span><br><span class="line">[&#39;心心&#39;, 18, [&#39;妹子&#39;, &#39;健身&#39;, &#39;打球&#39;]]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>总结：python中变量相当于贴在变量上的，a=b就是ab同时指向同一个变量，改变任意一者就会改变两个变量。python中还可以通过ls.copy和copy模块下的deepcopy进行拷贝，区别是前者是浅拷贝只拷贝一级目录，如下图的列表中的列表[“健身”,”妹子”] 是不会拷贝的所以改变其中一个就会两者都改变</p>
<p><img src="/2021/03/22/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E4%B8%8B%E8%BD%BD/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/4.png" alt="jupyter"><br>深拷贝<br><img src="/2021/03/22/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E4%B8%8B%E8%BD%BD/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/5.png" alt="jupyter"> </p>
<h2 id="3-2-元组"><a href="#3-2-元组" class="headerlink" title="3.2 元组"></a>3.2 元组</h2><p>元组思维导图<br><img src="/2021/03/22/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E4%B8%8B%E8%BD%BD/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/11.png" alt="jupyter"></p>
<p>元组是不可变的，标志是括号和逗号(data1,data2) 因此元组被称为<strong>不可变列表</strong> 元组也是有序的</p>
<p>更新和删除元组：元组是不变得 直接进行更新是不行的 但是可以拷贝现有的元组中的一部分构造成新的元组再指向它<br>删除可以使用del语句但是python回收机制会在不用时回收 所以删不删除没那么重要<br>可以直接给元组变量赋值 但是不能修改元组变量内部的值  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#当你定义一个tuple时，在定义的时候，tuple的元素就必须被确定下来</span></span><br><span class="line">t = (<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"><span class="comment">#如果要定义一个空的tuple，可以写成()</span></span><br><span class="line">t3=()</span><br><span class="line"><span class="comment">#只有一个元素时一定要加逗号</span></span><br><span class="line">t4= (<span class="number">1</span>,)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">temp=(<span class="string">&quot;w&quot;</span>,<span class="string">&quot;x&quot;</span>,<span class="string">&quot;y&quot;</span>,<span class="string">&quot;z&quot;</span>)</span><br><span class="line">temp=temp[:<span class="number">1</span>]+(<span class="string">&quot;lh&quot;</span>,)+temp[<span class="number">1</span>:]  <span class="comment">#可以使用+将元组组合起来</span></span><br><span class="line">temp</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(&#39;w&#39;, &#39;lh&#39;, &#39;x&#39;, &#39;y&#39;, &#39;z&#39;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>理解tuple中的不变是指向不变</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">t = (<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, [<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>])</span><br><span class="line">t[<span class="number">2</span>][<span class="number">0</span>] = <span class="string">&#x27;X&#x27;</span></span><br><span class="line">t[<span class="number">2</span>][<span class="number">1</span>] = <span class="string">&#x27;Y&#x27;</span></span><br><span class="line">print(t)</span><br><span class="line"><span class="comment">#这里为什么发生改变 实际上是指向不变但是指向的内部数据可变因此就可变了</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(&#39;a&#39;, &#39;b&#39;, [&#39;X&#39;, &#39;Y&#39;])</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>定义的时候tuple包含的3个元素<br><img src="/2021/03/22/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E4%B8%8B%E8%BD%BD/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/6.png" alt="jupyter"><br>当我们把list的元素’A’和’B’修改为’X’和’Y’后，tuple变为<br><img src="/2021/03/22/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E4%B8%8B%E8%BD%BD/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/7.png" alt="jupyter"><br>表面上看，tuple的元素确实变了，但其实变的不是tuple的元素，而是list的元素。tuple一开始指向的list并没有改成别的list，所以，tuple所谓的“不变”是说，tuple的每个元素，指向永远不变。即指向’a’，就不能改成指向’b’，指向一个list，就不能改成指向其他对象，但指向的这个list本身是可变的！</p>
<h2 id="3-3-字符串"><a href="#3-3-字符串" class="headerlink" title="3.3 字符串"></a>3.3 字符串</h2><p>字符串的基本操作  掌握字符串处理函数：字符串长度、字符串分隔（返回列表）、字符串聚合函数、替换、统计</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#字符串的拼接 用+号</span></span><br><span class="line"><span class="comment">#字符串成倍复制 字符串*n</span></span><br><span class="line"><span class="comment">#字符串成员运算</span></span><br><span class="line">folk_singers=<span class="string">&#x27;Peter, Paul and Mary&#x27;</span></span><br><span class="line">print(<span class="string">&#x27;Peter&#x27;</span> <span class="keyword">in</span> folk_singers)</span><br><span class="line"></span><br><span class="line"><span class="comment">#遍历字符串 for 字符 in 字符串</span></span><br><span class="line"><span class="keyword">for</span> s <span class="keyword">in</span> <span class="string">&quot;Python&quot;</span>:</span><br><span class="line">    print(s)  </span><br><span class="line">    </span><br><span class="line"><span class="comment">#字符串处理函数</span></span><br><span class="line"><span class="comment">#字符串长度 len()</span></span><br><span class="line">s=<span class="string">&#x27;python&#x27;</span></span><br><span class="line"><span class="built_in">len</span>(s)</span><br><span class="line"></span><br><span class="line"><span class="comment">#字符串处理函数</span></span><br><span class="line"><span class="comment">#1字符串分隔函数 str.split(分隔字符) 用途：返回一个列表 原字符串不变</span></span><br><span class="line">languages=<span class="string">&#x27;Python C C++ Java PHP R&#x27;</span></span><br><span class="line">languages_list = languages.split(<span class="string">&quot; &quot;</span>)</span><br><span class="line">print(languages) <span class="comment">#原本身字符串不变</span></span><br><span class="line">print(languages_list)</span><br><span class="line">print()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#字符串聚合函数-”聚合字符“.join(可迭代数据类型)</span></span><br><span class="line"><span class="comment">#可迭代数据类型：字符串、列表(列表存储的必须是字符)</span></span><br><span class="line">s=<span class="string">&#x27;12345&#x27;</span></span><br><span class="line">s_join = <span class="string">&quot;,&quot;</span>.join(s)</span><br><span class="line">print(s_join)</span><br><span class="line">print()</span><br><span class="line"></span><br><span class="line"><span class="comment">#s=[1,2,3,4,5]这样就不行</span></span><br><span class="line">s=[<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;3&#x27;</span>,<span class="string">&#x27;4&#x27;</span>,<span class="string">&#x27;5&#x27;</span>]</span><br><span class="line">print(<span class="string">&quot;#&quot;</span>.join(s))</span><br><span class="line">print()</span><br><span class="line"></span><br><span class="line"><span class="comment">#删除两端特定字符 字符串.strip(输出字符串)</span></span><br><span class="line"><span class="comment">#strip从两侧开始搜素 遇到指定字符执行删除 遇到非指定字符搜索停止 所以中间删不了</span></span><br><span class="line"><span class="comment">#左删除lstrip和右删除rstrip</span></span><br><span class="line">s=<span class="string">&quot;               i have many blanks      &quot;</span></span><br><span class="line">print(s.strip(<span class="string">&quot; &quot;</span>))</span><br><span class="line">print(s.lstrip(<span class="string">&quot; &quot;</span>))</span><br><span class="line">print(s.rstrip(<span class="string">&quot; &quot;</span>))</span><br><span class="line">print()</span><br><span class="line"></span><br><span class="line"><span class="comment">#字符串替换：统计某字符串中部分字符出现的频次</span></span><br><span class="line">s=<span class="string">&quot;python is coming&quot;</span></span><br><span class="line">s1=s.replace(<span class="string">&quot;python&quot;</span>,<span class="string">&quot;py&quot;</span>)</span><br><span class="line">print(s1)</span><br><span class="line">print()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#字符串统计---字符串.count(&quot;待统计字符&quot;)</span></span><br><span class="line">s=<span class="string">&quot;Python is excellent languages&quot;</span></span><br><span class="line">print(<span class="string">&quot;an:&quot;</span>,s.count(<span class="string">&quot;an&quot;</span>))</span><br><span class="line">print(<span class="string">&quot;e&quot;</span>,s.count(<span class="string">&quot;e&quot;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">#字符串字母大小写</span></span><br><span class="line"><span class="comment">#字符串.upper()字母全部大写</span></span><br><span class="line">s=<span class="string">&quot;Python&quot;</span></span><br><span class="line">print(s.upper())</span><br><span class="line"><span class="comment">#字符串.lower()字母全部小写</span></span><br><span class="line">print(s.lower())</span><br><span class="line"><span class="comment">#首字母大写</span></span><br><span class="line">print(s.title())</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">True</span><br><span class="line">P</span><br><span class="line">y</span><br><span class="line">t</span><br><span class="line">h</span><br><span class="line">o</span><br><span class="line">n</span><br><span class="line">Python C C++ Java PHP R</span><br><span class="line">[&#39;Python&#39;, &#39;C&#39;, &#39;C++&#39;, &#39;Java&#39;, &#39;PHP&#39;, &#39;R&#39;]</span><br><span class="line">1,2,3,4,5</span><br><span class="line"></span><br><span class="line">1#2#3#4#5</span><br><span class="line"></span><br><span class="line">i have many blanks</span><br><span class="line">i have many blanks      </span><br><span class="line">               i have many blanks</span><br><span class="line"></span><br><span class="line">py is coming</span><br><span class="line"></span><br><span class="line">an: 1</span><br><span class="line">e 4</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>数据类型判别</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#数据类型判别两种方式 type()可以查看是什么类别的 isinstance(变量，预判类型)查看是否是该类的一个实例 承认继承</span></span><br><span class="line">a=<span class="number">20</span></span><br><span class="line">print(<span class="built_in">type</span>(a))</span><br><span class="line">name=<span class="string">&#x27;Ada&#x27;</span></span><br><span class="line">print(<span class="built_in">type</span>(name))</span><br><span class="line"><span class="comment">#isinstance是承认继承的 比如说a继承自b c是a的实例那么isinstance(c,b)返回的是true</span></span><br><span class="line">age=<span class="number">20</span></span><br><span class="line">print(<span class="built_in">isinstance</span>(age,<span class="built_in">int</span>))</span><br><span class="line">print(<span class="built_in">isinstance</span>(age,<span class="built_in">object</span>))<span class="comment">#object是老祖宗</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;class &#39;int&#39;&gt;</span><br><span class="line">&lt;class &#39;str&#39;&gt;</span><br><span class="line">True</span><br><span class="line">True</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>字符串检查方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#is.digit()检查字符是否只有数字</span></span><br><span class="line">age=<span class="string">&#x27;20&#x27;</span></span><br><span class="line">name=<span class="string">&#x27;zjh&#x27;</span></span><br><span class="line">print(age.isdigit())</span><br><span class="line">print(name.isdigit())</span><br><span class="line"><span class="comment">#isalpha()检查字符是否只有字母组成</span></span><br><span class="line">print(name.isalpha())</span><br><span class="line"><span class="comment">#isalnum()检查字符是否值由数字和字母组成</span></span><br><span class="line">print(<span class="string">&quot;Ada20&quot;</span>.isalnum())</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">True</span><br><span class="line">False</span><br><span class="line">True</span><br><span class="line">True</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>类型转换 数字类型转为字符型：str(变量)<br>仅有数字组成的字符转换成数字 int() float() eval()<br>但是int()转换一个含有小数的字符会出错</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#int(&quot;12.43&quot;)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">36.2</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="3-4字典"><a href="#3-4字典" class="headerlink" title="3.4字典"></a>3.4字典</h2><p>字典思维导图<br><img src="/2021/03/22/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E4%B8%8B%E8%BD%BD/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/12.png" alt="jupyter"></p>
<p>字典就是大括号表示的{key:value,key2:value2} 字典是无序的  </p>
<p>访问字典 keys() values() items() 分别访问 键 值 和键值对<br>字典.get(键，default) 也可以来访问字典，没有相应的键就返回default </p>
<p>dict.[‘key’]就能访问  </p>
<p>用 in 和 not in 可以判断一个键是否在字典中  </p>
<p>清空字典 clear()<br>b=a.copy() 复制字典(也是浅拷贝)</p>
<p>弹出键值pop(key)或 popitem()  pop(key)对应的value也会从dict中删除 del dict[key]也可以进行删除  </p>
<p>更新字典update()<br>字典.update(旧键：新值)</p>
<p>访问字典<br>for key,value in dict.items():<br>print(key,value)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">d = &#123;<span class="string">&#x27;Michael&#x27;</span>: <span class="number">95</span>, <span class="string">&#x27;Bob&#x27;</span>: <span class="number">75</span>, <span class="string">&#x27;Tracy&#x27;</span>: <span class="number">85</span>&#125;</span><br><span class="line">d[<span class="string">&#x27;Michael&#x27;</span>]</span><br><span class="line"><span class="comment">#除了初始化的时候指定也可以通过 key放入</span></span><br><span class="line">d[<span class="string">&#x27;Adam&#x27;</span>] = <span class="number">67</span></span><br><span class="line">d[<span class="string">&#x27;Adam&#x27;</span>]</span><br><span class="line">print(d.keys())</span><br><span class="line">print(d.values())</span><br><span class="line">print(d.items())</span><br><span class="line"><span class="comment">#由于一个key只能对应一个value，所以，多次对一个key放入value，后面的值会把前面的值冲掉</span></span><br><span class="line">d[<span class="string">&#x27;Jack&#x27;</span>] = <span class="number">90</span></span><br><span class="line">d[<span class="string">&#x27;Jack&#x27;</span>]</span><br><span class="line">d[<span class="string">&#x27;Jack&#x27;</span>] = <span class="number">88</span></span><br><span class="line">d[<span class="string">&#x27;Jack&#x27;</span>]</span><br><span class="line"><span class="comment">#如果key不存在，dict就会报错 要避免key不存在的错误，有两种办法，一是通过in判断key是否存在</span></span><br><span class="line"><span class="string">&#x27;Jack&#x27;</span> <span class="keyword">in</span> d</span><br><span class="line"><span class="comment">#dict的get方法 如果key不存在可以返回None 或者自己指定的value</span></span><br><span class="line">d.get(<span class="string">&#x27;Thomas&#x27;</span>, -<span class="number">1</span>)</span><br><span class="line"><span class="keyword">for</span> key,value <span class="keyword">in</span> d.items():</span><br><span class="line">    print(key,value)</span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;****************&quot;</span>)</span><br><span class="line"><span class="comment">#get方法在统计字符频率时很有用</span></span><br><span class="line">str1=<span class="string">&quot;李奶奶喝牛奶&quot;</span></span><br><span class="line">dicts=&#123;&#125;</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> str1:</span><br><span class="line">    dicts[i]=dicts.get(i,<span class="number">0</span>)+<span class="number">1</span></span><br><span class="line">print(dicts)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">dict_keys([&#39;Michael&#39;, &#39;Bob&#39;, &#39;Tracy&#39;, &#39;Adam&#39;])</span><br><span class="line">dict_values([95, 75, 85, 67])</span><br><span class="line">dict_items([(&#39;Michael&#39;, 95), (&#39;Bob&#39;, 75), (&#39;Tracy&#39;, 85), (&#39;Adam&#39;, 67)])</span><br><span class="line">Michael 95</span><br><span class="line">Bob 75</span><br><span class="line">Tracy 85</span><br><span class="line">Adam 67</span><br><span class="line">Jack 88</span><br><span class="line">****************</span><br><span class="line">&#123;&#39;李&#39;: 1, &#39;奶&#39;: 3, &#39;喝&#39;: 1, &#39;牛&#39;: 1&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#字典的删除</span></span><br><span class="line"><span class="comment"># 一、Pop方法</span></span><br><span class="line"><span class="comment"># Pop方法属于字典自带的方法，只需要传入一个参数，这个参数是字典的键，就可以对字典中的某个键值对进行删除。</span></span><br><span class="line">dic1 = &#123;<span class="string">&quot;a&quot;</span>: <span class="string">&quot;C&quot;</span>, <span class="string">&quot;b&quot;</span>: <span class="string">&quot;Python&quot;</span>, <span class="string">&quot;c&quot;</span>: <span class="string">&quot;RPA&quot;</span>, <span class="string">&quot;d&quot;</span>:<span class="string">&quot;艺赛旗&quot;</span>&#125;</span><br><span class="line">dic1.pop(<span class="string">&quot;c&quot;</span>)</span><br><span class="line">print(<span class="string">&quot;dic1:&quot;</span>, dic1)</span><br><span class="line"><span class="comment">#二、Popitem方法</span></span><br><span class="line"><span class="comment"># 这个方法不需要传入参数，就可以直接对字典中的键值对进行删除，并且每次删除的都是最后一个。</span></span><br><span class="line">dic2 = &#123;<span class="string">&quot;a&quot;</span>: <span class="string">&quot;C&quot;</span>, <span class="string">&quot;b&quot;</span>: <span class="string">&quot;Python&quot;</span>, <span class="string">&quot;c&quot;</span>: <span class="string">&quot;RPA&quot;</span>, <span class="string">&quot;d&quot;</span>:<span class="string">&quot;艺赛旗&quot;</span>&#125;</span><br><span class="line">dic2.popitem()</span><br><span class="line">print(<span class="string">&#x27;dic2:&#x27;</span>, dic2)</span><br><span class="line"><span class="comment"># 三、Clear方法</span></span><br><span class="line">dic3 = &#123;<span class="string">&quot;a&quot;</span>: <span class="string">&quot;C&quot;</span>, <span class="string">&quot;b&quot;</span>: <span class="string">&quot;Python&quot;</span>, <span class="string">&quot;c&quot;</span>: <span class="string">&quot;RPA&quot;</span>, <span class="string">&quot;d&quot;</span>:<span class="string">&quot;艺赛旗&quot;</span>&#125;</span><br><span class="line">print(dic3.clear())</span><br><span class="line">print(dic3)</span><br><span class="line"><span class="comment"># Clear方法,彻底清除字典中的所有的键值对。</span></span><br><span class="line"><span class="comment"># 使用pop方法是人为规定删除某个键值对。</span></span><br><span class="line"><span class="comment"># dic1.popitem()方法在删除之前保留了一份数据（元组的形式），这份数据在使用popitem方法删除字典中的数据后会将这份删除的数据进行返回，以供知悉。</span></span><br><span class="line"><span class="comment"># pop方法删除后会返回一个对应删除键的值，这个值用来给你判断你删除的是否你要真正删除的。</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">dic1: &#123;&#39;a&#39;: &#39;C&#39;, &#39;b&#39;: &#39;Python&#39;, &#39;d&#39;: &#39;艺赛旗&#39;&#125;</span><br><span class="line">dic2: &#123;&#39;a&#39;: &#39;C&#39;, &#39;b&#39;: &#39;Python&#39;, &#39;c&#39;: &#39;RPA&#39;&#125;</span><br><span class="line">None</span><br><span class="line">&#123;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>存在的问题是python字典既然是无序的为什么popitem总是删除最后一个呢？</p>
<p>字典的注意事项：牢记的第一条就是dict的key必须是<strong>不可变对象</strong><br>这是因为dict根据key来计算value的存储位置，如果每次计算相同的key得出的结果不同，那dict内部就完全混乱了。这个通过key计算位置的算法称为哈希算法（Hash）<br>要保证hash的正确性，作为key的对象就不能变。在Python中，字符串、整数等都是不可变的，因此，可以放心地作为key。而list是可变的，就不能作为key</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">d=&#123;&#125; </span><br><span class="line">key = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">d[key] = <span class="string">&#x27;a list&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">---------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">TypeError                                 Traceback (most recent call last)</span><br><span class="line"></span><br><span class="line">&lt;ipython-input-62-4d6510ec34d9&gt; in &lt;module&gt;</span><br><span class="line">      1 d&#x3D;&#123;&#125;</span><br><span class="line">      2 key &#x3D; [1, 2, 3]</span><br><span class="line">----&gt; 3 d[key] &#x3D; &#39;a list&#39;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">TypeError: unhashable type: &#39;list&#39;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="3-5-集合"><a href="#3-5-集合" class="headerlink" title="3.5 集合"></a>3.5 集合</h2><p>集合set 集合看作数学中的集合即可<br>集合思维导图<br><img src="/2021/03/22/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E4%B8%8B%E8%BD%BD/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/13.png" alt="jupyter"></p>
<p>集合：{}大括号括起来的但是没有键值关系 集合元素唯一且集合无序</p>
<p>创建集合 a={1,2,3,4} 或者a=set([1,2,3,4]) 使用set函数创建集合 传递的参数是一个列表<br>可以利用集合元素唯一去掉列表中重复元素 list1=list(set(list1))</p>
<p>访问集合 集合元素是无序的因此不能通过下标的方式访问 但是可以迭代一个一个读取出来<br>for each in set:<br>    print(each,end=’’)</p>
<p>添加元素和删除元素<br>add(key)添加元素 remove(key)删除已知元素</p>
<p>冻结元素<br>set1=frozenset({集合元素}) 创建了不可变集合 意思是集合内不准随意添加和删除元素</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">a=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;</span><br><span class="line"><span class="built_in">type</span>(a)</span><br><span class="line">a.add(<span class="number">4</span>)</span><br><span class="line">print(a)</span><br><span class="line">a.remove(<span class="number">2</span>)</span><br><span class="line">print(a)</span><br><span class="line">print()</span><br><span class="line"></span><br><span class="line"><span class="comment">#set可以看成数学意义上的无序和无重复元素的集合，因此，两个set可以做数学意义上的交集、并集等操作</span></span><br><span class="line">s1 = <span class="built_in">set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">s2 = <span class="built_in">set</span>([<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</span><br><span class="line">print(s1 &amp; s2) <span class="comment">#交集</span></span><br><span class="line">print(s1 | s2) <span class="comment">#并集</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;1, 2, 3, 4&#125;</span><br><span class="line">&#123;1, 3, 4&#125;</span><br><span class="line"></span><br><span class="line">&#123;2, 3&#125;</span><br><span class="line">&#123;1, 2, 3, 4&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>set注意事项：因为set要保证内部元素是不可变的因此set内部不能存可变对象如list 因为这样内部只是引用的话我们无法知道集合元素是否是重复的</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">set1=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,[<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>]&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">---------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">TypeError                                 Traceback (most recent call last)</span><br><span class="line"></span><br><span class="line">&lt;ipython-input-72-df3d976d9221&gt; in &lt;module&gt;</span><br><span class="line">----&gt; 1 set1&#x3D;&#123;1,2,3,[1,3,5]&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">TypeError: unhashable type: &#39;list&#39;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>再谈不可变对象：<br>str是不变对象，而list是可变对象，对于可变对象，比如list，对list进行操作，list内部的内容是会变化的<br>而对于不可变对象，比如str，对str进行操作呢  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">&#x27;abc&#x27;</span></span><br><span class="line">b=a.replace(<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;A&#x27;</span>)</span><br><span class="line">print(a)</span><br><span class="line">print(b)</span><br><span class="line"><span class="comment">#这里用了replace但是a本身并没有变</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">abc</span><br><span class="line">Abc</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>当我们调用a.replace(‘a’, ‘A’)时，实际上调用方法replace是作用在字符串对象’abc’上的，而这个方法虽然名字叫replace，但却没有改变字符串’abc’的内容。相反，replace方法创建了一个新字符串’Abc’并返回，如果我们用变量b指向该新字符串，就容易理解了，变量a仍指向原有的字符串’abc’，但变量b却指向新字符串’Abc’了：<br>│ a │─────────────────&gt;│ ‘abc’ │      </p>
<p>│ b │─────────────────&gt;│ ‘Abc’ │<br>所以，对于不变对象来说，<em>调用对象自身的任意方法</em>，也不会改变该对象自身的内容(对于list可变对象而言调用自身的方法会改变自身的内容)。相反，这些方法会<em>创建新的对象并返回</em>，这样，就保证了不可变对象本身永远是不可变的</p>
<p>使用key-value存储结构的dict在Python中非常有用，选择不可变对象作为key很重要，最常用的key是字符串。<br>tuple虽然是不变对象，但试试把(1, 2, 3)和(1, [2, 3])放入dict或set中 会发现tuple中嵌套了可变的列表就不能哈希化了</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span>=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,(<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>)&#125;</span><br><span class="line">print(<span class="built_in">set</span>)</span><br><span class="line"><span class="built_in">set</span>=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,(<span class="number">1</span>,<span class="number">2</span>,[<span class="number">3</span>,<span class="number">4</span>])&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;(1, 3, 5), 1, 2, 3&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">---------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">TypeError                                 Traceback (most recent call last)</span><br><span class="line"></span><br><span class="line">&lt;ipython-input-81-f55928244219&gt; in &lt;module&gt;</span><br><span class="line">      1 set&#x3D;&#123;1,2,3,(1,3,5)&#125;</span><br><span class="line">      2 print(set)</span><br><span class="line">----&gt; 3 set&#x3D;&#123;1,2,3,(1,2,[3,4])&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">TypeError: unhashable type: &#39;list&#39;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="4-函数"><a href="#4-函数" class="headerlink" title="4 函数"></a>4 函数</h1><p>定义函数<br>def 函数名(形参):<br>    “””文档字符串注释”””<br>    函数体<br>    return 返回值<br>函数名.<strong>doc</strong> 获得函数文档字符<br>或者help(函数名)  </p>
<p>空函数<br>def function():<br>  pass  </p>
<p>参数检查：<br>调用函数时，如果<strong>参数个数不对</strong>，Python解释器会自动检查出来，并抛出TypeError<br>但是<strong>参数类型不对</strong>的话python解释器就无法帮我们检查，所以有时候有必要用isinstance对参数类型进行检查  </p>
<p>函数能返回多个值吗？答案是可以的但是其实返回的是一个单一值:元组然后赋值给多个变量罢了</p>
<p>参数分为实参和形参 定义时是形参实际上是实参    </p>
<p>传递参数的过程中有多种方式 如位置实参 关键字实参 默认值参数 可变参数 关键字参数<br>位置参数的传递方式就是依赖位置顺序的<br>关键字参数就是在传递的过程中指出参数名<br>默认值是定义时形参就给定了一个值</p>
<p>函数的思维导图<br><img src="/2021/03/22/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E4%B8%8B%E8%BD%BD/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/14.png" alt="jupyter"></p>
<p>python中内置了许多有用的函数，我们可以直接调用，可以直接从<a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html">https://docs.python.org/3/library/functions.html</a> 进行查询内置函数built-in<br>function 也可以通过help查询函数作用<br>函数名其实就是指向一个函数对象的引用，完全可以把函数名赋给一个变量，相当于给这个函数起了一个“别名”</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="built_in">abs</span></span><br><span class="line">a(-<span class="number">1</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#函数文档注释</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">changerate</span>(<span class="params">dollar</span>):</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27; 美元换人民币暂定为乘以3&#x27;&#x27;&#x27;</span></span><br><span class="line">    rmb=dollar*<span class="number">3</span></span><br><span class="line">    <span class="keyword">return</span> rmb</span><br><span class="line">print(changerate.__doc__)</span><br><span class="line">changerate(<span class="number">2</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">美元换人民币暂定为乘以3</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">6</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#空函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">myfunc</span>():</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>参数检查</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_abs</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">if</span> x &gt;= <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line">    <span class="keyword">if</span> x&lt;<span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> -x</span><br><span class="line"></span><br><span class="line"><span class="comment">#参数个数检查时会抛出typeError错误</span></span><br><span class="line">my_abs(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line"><span class="comment">#抛出了typeError</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">---------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">TypeError                                 Traceback (most recent call last)</span><br><span class="line"></span><br><span class="line">&lt;ipython-input-32-0ae23ebef75a&gt; in &lt;module&gt;</span><br><span class="line">      6         return -x</span><br><span class="line">      7 </span><br><span class="line">----&gt; 8 my_abs(1,2)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">TypeError: my_abs() takes 1 positional argument but 2 were given</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#但是如果参数类型不对，Python解释器就无法帮我们检查。试试my_abs和内置函数abs的差别</span></span><br><span class="line">my_abs(<span class="string">&#x27;S&#x27;</span>) <span class="comment">#my_abs 抛出的是在if处出错了因为传递的参数是字符</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">---------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">TypeError                                 Traceback (most recent call last)</span><br><span class="line"></span><br><span class="line">&lt;ipython-input-34-37a68189f861&gt; in &lt;module&gt;</span><br><span class="line">      1 #但是如果参数类型不对，Python解释器就无法帮我们检查。试试my_abs和内置函数abs的差别</span><br><span class="line">----&gt; 2 my_abs(&#39;S&#39;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;ipython-input-32-0ae23ebef75a&gt; in my_abs(x)</span><br><span class="line">      1 #参数检查</span><br><span class="line">      2 def my_abs(x):</span><br><span class="line">----&gt; 3     if x &gt;&#x3D; 0:</span><br><span class="line">      4         return x</span><br><span class="line">      5     if x&lt;0:</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">TypeError: &#39;&gt;&#x3D;&#39; not supported between instances of &#39;str&#39; and &#39;int&#39;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">abs</span>(<span class="string">&#x27;a&#x27;</span>) <span class="comment">#内置的abs函数给的错误提示是错误的类型</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">---------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">TypeError                                 Traceback (most recent call last)</span><br><span class="line"></span><br><span class="line">&lt;ipython-input-35-f2001f88707b&gt; in &lt;module&gt;</span><br><span class="line">----&gt; 1 abs(&#39;a&#39;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">TypeError: bad operand type for abs(): &#39;str&#39;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#利用isinstance()进行参数检查</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_abs</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> <span class="built_in">isinstance</span>(x, (<span class="built_in">int</span>, <span class="built_in">float</span>)):</span><br><span class="line">        <span class="keyword">raise</span> TypeError(<span class="string">&#x27;bad operand type&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> x &gt;= <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> -x</span><br><span class="line"></span><br><span class="line">my_abs(<span class="string">&quot;s&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">---------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">TypeError                                 Traceback (most recent call last)</span><br><span class="line"></span><br><span class="line">&lt;ipython-input-2-ec8a3b1cb4dc&gt; in &lt;module&gt;</span><br><span class="line">      8         return -x</span><br><span class="line">      9 </span><br><span class="line">---&gt; 10 my_abs(&quot;s&quot;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;ipython-input-2-ec8a3b1cb4dc&gt; in my_abs(x)</span><br><span class="line">      2 def my_abs(x):</span><br><span class="line">      3     if not isinstance(x, (int, float)):</span><br><span class="line">----&gt; 4         raise TypeError(&#39;bad operand type&#39;)</span><br><span class="line">      5     if x &gt;&#x3D; 0:</span><br><span class="line">      6         return x</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">TypeError: bad operand type</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="位置参数-默认参数-可变参数-关键字参数-命名关键字参数"><a href="#位置参数-默认参数-可变参数-关键字参数-命名关键字参数" class="headerlink" title="位置参数 默认参数 可变参数 关键字参数 命名关键字参数"></a>位置参数 默认参数 可变参数 关键字参数 命名关键字参数</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#位置参数 </span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">power</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">return</span> x*x</span><br><span class="line"><span class="comment">#对于power(x)函数，参数x就是一个位置参数。当我们调用power函数时，必须传入有且仅有的一个参数x 按位置传递参数</span></span><br><span class="line"><span class="comment">#但是存在问题如何如果我们要计算x^3怎么办,可以再定义一个power3函数，但是如果要计算x4、x5……怎么办？</span></span><br><span class="line"><span class="comment">#可以把power(x)修改为power(x, n)，用来计算x^n</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">power_2</span>(<span class="params">x,n</span>):</span></span><br><span class="line">    s=<span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> n&gt;<span class="number">0</span>:</span><br><span class="line">        n=n-<span class="number">1</span></span><br><span class="line">        s=s*x</span><br><span class="line">    <span class="keyword">return</span> s</span><br><span class="line"><span class="comment">#对于这个修改后的power(x, n)函数，可以计算任意n次方</span></span><br><span class="line"><span class="comment">#修改后的power(x, n)函数有两个参数：x和n，这两个参数都是位置参数，调用函数时，传入的两个值按照位置顺序依次赋给参数x和n</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#默认参数</span></span><br><span class="line"><span class="comment">#新的power(x,n)对新的power(2,5)没问题但是对原来的power(2)出现问题 所以可以使用默认参数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">power3</span>(<span class="params">x,n=<span class="number">2</span></span>):</span></span><br><span class="line">    s=<span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> n&gt;<span class="number">0</span>:</span><br><span class="line">        n=n-<span class="number">1</span></span><br><span class="line">        s=s*x</span><br><span class="line">    <span class="keyword">return</span> s</span><br><span class="line"><span class="comment">#默认参数的好处在于可以把变化大的参数放前面 变化小的参数放后面 降低调用函数的难度</span></span><br><span class="line"><span class="comment">#比如说数据是  &#x27;Adam&#x27;, &#x27;M&#x27;, city=&#x27;Tianjin&#x27;  同一地区有很多就不用登记地区了</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#默认参数陷阱 默认参数不能是可变对象如列表 见下代码</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_end</span>(<span class="params">L=[]</span>):</span></span><br><span class="line">    L.append(<span class="string">&#x27;END&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> L</span><br><span class="line">print(add_end())</span><br><span class="line">print(add_end())</span><br><span class="line">print(add_end())</span><br><span class="line"><span class="comment">#note 在这里默认参数是[]，但是函数似乎每次都“记住了”</span></span><br><span class="line"><span class="comment">#上次添加了&#x27;END&#x27;后的listPython函数在定义的时候，默认参数L的值就被计算出来了，即[]，</span></span><br><span class="line"><span class="comment">#因为默认参数L也是一个变量，它指向对象[]，每次调用该函数，如果改变了L的内容，则下次调用时，默认参数的内容就变了，不再是函数定义时的[]了。</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;**************************&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#修改上面的例子用None这个不变对象来实现</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_end1</span>(<span class="params">L=<span class="literal">None</span></span>):</span></span><br><span class="line">    <span class="keyword">if</span> L <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        L = []</span><br><span class="line">    L.append(<span class="string">&#x27;END&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> L</span><br><span class="line">print(add_end1())</span><br><span class="line">print(add_end1())</span><br><span class="line">print(add_end1())</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[&#39;END&#39;]</span><br><span class="line">[&#39;END&#39;, &#39;END&#39;]</span><br><span class="line">[&#39;END&#39;, &#39;END&#39;, &#39;END&#39;]</span><br><span class="line">**************************</span><br><span class="line">[&#39;END&#39;]</span><br><span class="line">[&#39;END&#39;]</span><br><span class="line">[&#39;END&#39;]</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#可变参数</span></span><br><span class="line"><span class="comment">#可变参数允许你传入0个或任意个参数，这些可变参数在函数调用时自动组装为一个tuple</span></span><br><span class="line"><span class="comment">#可变参数就是传入的参数个数是可变的，可以是1个、2个到任意个，还可以是0个</span></span><br><span class="line"><span class="comment">#比如说给定一组数字a，b，c……，请计算a^2 + b^2 + c^2 + ……</span></span><br><span class="line"><span class="comment">#要定义出这个函数，我们必须确定输入的参数。</span></span><br><span class="line"><span class="comment">#由于参数个数不确定，我们首先想到可以把a，b，c……作为一个list或tuple传进来，这样，函数可以定义如下：</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">calc</span>(<span class="params">numbers</span>):</span></span><br><span class="line">    <span class="built_in">sum</span> = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> n <span class="keyword">in</span> numbers:</span><br><span class="line">        <span class="built_in">sum</span> = <span class="built_in">sum</span> + n * n</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sum</span></span><br><span class="line"><span class="comment">#但是调用的时候，需要先组装出一个list或tuple</span></span><br><span class="line">calc([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]) <span class="comment">#或者calc((1, 3, 5, 7))</span></span><br><span class="line"><span class="comment">#定义成可变参数 </span></span><br><span class="line"><span class="comment">#定义可变参数和定义一个list或tuple参数相比，仅仅在参数前面加了一个*号。</span></span><br><span class="line"><span class="comment">#在函数内部，参数numbers接收到的是一个tuple，因此，函数代码完全不变。但是，调用该函数时，可以传入任意个参数，包括0个参数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">calc1</span>(<span class="params">*numbers</span>):</span></span><br><span class="line">    <span class="built_in">sum</span> = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> n <span class="keyword">in</span> numbers:</span><br><span class="line">        <span class="built_in">sum</span> = <span class="built_in">sum</span> + n * n</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sum</span></span><br><span class="line">calc1(<span class="number">1</span>, <span class="number">2</span>)<span class="comment">#就不需要组装成list了</span></span><br><span class="line">calc()<span class="comment">#传递0个参数也是可行的</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#如果已经有一个list或者tuple，要调用一个可变参数怎么办？</span></span><br><span class="line"><span class="comment">#第一种</span></span><br><span class="line">nums = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">calc1(nums[<span class="number">0</span>], nums[<span class="number">1</span>], nums[<span class="number">2</span>])</span><br><span class="line"><span class="comment">#但是可以更简单</span></span><br><span class="line">calc1(*nums) <span class="comment">#对原始数据进行解包再传递</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#关键字参数</span></span><br><span class="line"><span class="comment">#关键字参数允许你传入0个或任意个含参数名的参数，这些关键字参数在函数内部自动组装为一个dict</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">person</span>(<span class="params">name, age, **kw</span>):</span></span><br><span class="line">    print(<span class="string">&#x27;name:&#x27;</span>, name, <span class="string">&#x27;age:&#x27;</span>, age, <span class="string">&#x27;other:&#x27;</span>, kw)</span><br><span class="line"><span class="comment">#也可以传入任意个数的关键字参数</span></span><br><span class="line">person(<span class="string">&#x27;Michael&#x27;</span>, <span class="number">30</span>)</span><br><span class="line">person(<span class="string">&#x27;Bob&#x27;</span>, <span class="number">35</span>, city=<span class="string">&#x27;Beijing&#x27;</span>)</span><br><span class="line">person(<span class="string">&#x27;Adam&#x27;</span>, <span class="number">45</span>, gender=<span class="string">&#x27;M&#x27;</span>, job=<span class="string">&#x27;Engineer&#x27;</span>)</span><br><span class="line"><span class="comment">#关键字参数的作用它可以扩展函数的功能。</span></span><br><span class="line"><span class="comment">#比如，在person函数里，我们保证能接收到name和age这两个参数，但是，如果调用者愿意提供更多的参数，我们也能收到。</span></span><br><span class="line"><span class="comment">#试想你正在做一个用户注册的功能，除了用户名和年龄是必填项外，其他都是可选项，利用关键字参数来定义这个函数就能满足注册的需求</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#关键字参数也能通过先组装成一个dict 然后再传入</span></span><br><span class="line">extra = &#123;<span class="string">&#x27;city&#x27;</span>: <span class="string">&#x27;Beijing&#x27;</span>, <span class="string">&#x27;job&#x27;</span>: <span class="string">&#x27;Engineer&#x27;</span>&#125;</span><br><span class="line">person(<span class="string">&#x27;Jack&#x27;</span>, <span class="number">24</span>, **extra)</span><br><span class="line"></span><br><span class="line"><span class="comment">#**extra表示把extra这个dict的所有key-value用关键字参数传入到函数的**kw参数，kw将获得一个dict。</span></span><br><span class="line"><span class="comment">#注意kw获得的dict是extra的一份拷贝，对kw的改动不会影响到函数外的extra</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">name: Michael age: 30 other: &#123;&#125;</span><br><span class="line">name: Bob age: 35 other: &#123;&#39;city&#39;: &#39;Beijing&#39;&#125;</span><br><span class="line">name: Adam age: 45 other: &#123;&#39;gender&#39;: &#39;M&#39;, &#39;job&#39;: &#39;Engineer&#39;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#命名关键字参数</span></span><br><span class="line"><span class="comment">#对关键字参数而言函数的调用可以传入任意不受限制的关键字参数。至于到底传入了哪些，就需要在函数内部通过kw检查</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">person</span>(<span class="params">name, age, **kw</span>):</span></span><br><span class="line">    <span class="keyword">if</span> <span class="string">&#x27;city&#x27;</span> <span class="keyword">in</span> kw:</span><br><span class="line">        <span class="comment"># 有city参数</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">if</span> <span class="string">&#x27;job&#x27;</span> <span class="keyword">in</span> kw:</span><br><span class="line">        <span class="comment"># 有job参数</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    print(<span class="string">&#x27;name:&#x27;</span>, name, <span class="string">&#x27;age:&#x27;</span>, age, <span class="string">&#x27;other:&#x27;</span>, kw)</span><br><span class="line"><span class="comment">#但是仍然可以传递不受限制的参数</span></span><br><span class="line"><span class="comment">#person(&#x27;Jack&#x27;, 24, city=&#x27;Beijing&#x27;, addr=&#x27;Chaoyang&#x27;, zipcode=123456)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#如果用命名关键字参数则选择只接受哪些关键字 如下 只接受 city和job关键字</span></span><br><span class="line"><span class="comment">#命名关键字参数需要一个特殊分隔符*，*后面的参数被视为命名关键字参数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">person</span>(<span class="params">name, age, *, city, job</span>):</span></span><br><span class="line">    print(name, age, city, job)</span><br><span class="line"><span class="comment">#调用方式如下</span></span><br><span class="line"><span class="comment">#person(&#x27;Jack&#x27;, 24, city=&#x27;Beijing&#x27;, job=&#x27;Engineer&#x27;) 需要给出关键字的名字</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#混合可变参数与命名关键字参数的情况</span></span><br><span class="line"><span class="comment">#如果函数定义中已经有了一个可变参数，后面跟着的命名关键字参数就不再需要一个特殊分隔符*了</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">person</span>(<span class="params">name, age, *args, city, job</span>):</span></span><br><span class="line">    print(name, age, args, city, job)</span><br><span class="line"><span class="comment">#其中args就是可变参数 可变参数必须放在命名关键字参数前 且在传递命名关键字时必须给出名字 不然不知道可变参数什么时候结束</span></span><br><span class="line"><span class="comment">#person(&#x27;Jack&#x27;, 24, &#x27;Beijing&#x27;, &#x27;Engineer&#x27;)错误写法</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#命名关键字参数可以有缺省值，从而简化调用</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">person</span>(<span class="params">name, age, *, city=<span class="string">&#x27;Beijing&#x27;</span>, job</span>):</span></span><br><span class="line">    print(name, age, city, job)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>函数有以上5种参数可以组合使用 ，但是组合使用时一定要遵从下列顺序<br>必选参数、默认参数、可变参数、命名关键字参数和关键字参数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f1</span>(<span class="params">a, b, c=<span class="number">0</span>, *args, **kw</span>):</span></span><br><span class="line">    print(<span class="string">&#x27;a =&#x27;</span>, a, <span class="string">&#x27;b =&#x27;</span>, b, <span class="string">&#x27;c =&#x27;</span>, c, <span class="string">&#x27;args =&#x27;</span>, args, <span class="string">&#x27;kw =&#x27;</span>, kw)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="返回值问题"><a href="#返回值问题" class="headerlink" title="返回值问题"></a>返回值问题</h2><p>函数和过程 一般而言函数是有返回值的 但是过程没有返回值 在下面这段代码中我们可以发现其实python中都是有返回值的  所以python中是只有函数没有<br>过程的</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hello</span>():</span></span><br><span class="line">    print(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line">print(hello())</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hello</span><br><span class="line">None</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#函数返回多个值</span></span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">move</span>(<span class="params">x, y, step, angle=<span class="number">0</span></span>):</span></span><br><span class="line">    nx = x + step * math.cos(angle)</span><br><span class="line">    ny = y - step * math.sin(angle)</span><br><span class="line">    <span class="keyword">return</span> nx, ny</span><br><span class="line">x, y = move(<span class="number">100</span>, <span class="number">100</span>, <span class="number">60</span>, math.pi / <span class="number">6</span>)</span><br><span class="line">print(x, y)</span><br><span class="line">r = move(<span class="number">100</span>, <span class="number">100</span>, <span class="number">60</span>, math.pi / <span class="number">6</span>)</span><br><span class="line">print(r)</span><br><span class="line"><span class="comment">#最后的r实际上是个元组</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">151.96152422706632 70.0</span><br><span class="line">(151.96152422706632, 70.0)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="递归函数与尾递归"><a href="#递归函数与尾递归" class="headerlink" title="递归函数与尾递归"></a>递归函数与尾递归</h2><p>递归函数：递归函数就是在函数内部调用自身本身 这就是递归函数，递归函数通过栈来实现<br>每当进入一个函数调用，栈就会加一层栈帧，每当函数返回，栈就会减一层栈帧。由于栈的大小不是无限的，所以，递归调用的次数过多，会导致栈溢出<br>尾递归：在函数返回的时候，调用自身本身，并且，return语句不能包含表达式。<br>这样，编译器或者解释器就可以把尾递归做优化，使递归本身无论调用多少次，都只占用一个栈帧，不会出现栈溢出的情况</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#阶乘函数n!=n*(n-1)*(n-2).....</span></span><br><span class="line"><span class="comment">#递归的方法</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fact</span>(<span class="params">n</span>):</span></span><br><span class="line">    <span class="keyword">if</span> n==<span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> n * fact(n - <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#尾递归的方法</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fact</span>(<span class="params">n</span>):</span></span><br><span class="line">    <span class="keyword">return</span> fact_iter(n, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fact_iter</span>(<span class="params">num, product</span>):</span></span><br><span class="line">    <span class="keyword">if</span> num == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> product</span><br><span class="line">    <span class="keyword">return</span> fact_iter(num - <span class="number">1</span>, num * product) <span class="comment">#在这里就没有包含表达式 弄来弄去只有一个栈</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#但是需要说明的是python中不存在尾递归优化！</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="函数变量的作用域-局部变量与全局变量"><a href="#函数变量的作用域-局部变量与全局变量" class="headerlink" title="函数变量的作用域 局部变量与全局变量"></a>函数变量的作用域 局部变量与全局变量</h2><p>函数里边定义的参数以及变量，都称为<em>局部变量</em>，出了这个函数，这些变量都是无效的，对于<em>全局变量</em>而言，全局变量在整个代码段中都能访问到，比如函数内部，但是不能在函数内部修改全局变量，函数会创建一个名字一样的局部变量。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">gl_name = <span class="string">&quot;hello&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">change_name</span>():</span></span><br><span class="line">    <span class="comment"># 对全局变量进行修改</span></span><br><span class="line">    gl_name = <span class="string">&quot;world&quot;</span></span><br><span class="line">    <span class="keyword">return</span> gl_name</span><br><span class="line">print(gl_name)</span><br><span class="line">print(change_name())</span><br><span class="line">print(gl_name)</span><br><span class="line"><span class="comment">#并没有改变全局变量gl_name的值 但是如果全局变量是列表之类对他进行修改还是可以的 如果局部变量不想释放掉可以使用global关键字</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">multipy</span>(<span class="params">x,y</span>):</span></span><br><span class="line">    <span class="keyword">global</span> z</span><br><span class="line">    z=x*y</span><br><span class="line">    <span class="keyword">return</span> z</span><br><span class="line"></span><br><span class="line">multipy(<span class="number">2</span>,<span class="number">9</span>)</span><br><span class="line">print(z)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">hello</span><br><span class="line">world</span><br><span class="line">hello</span><br><span class="line">18</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="lambda表达式-格式-lambda-参数：返回值"><a href="#lambda表达式-格式-lambda-参数：返回值" class="headerlink" title="lambda表达式    格式 lambda 参数：返回值"></a>lambda表达式    格式 lambda 参数：返回值</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#lambda表达式</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">play</span>(<span class="params">x,y</span>):</span></span><br><span class="line">    <span class="keyword">return</span> x+y</span><br><span class="line">print(play(<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">#上述等价于</span></span><br><span class="line">g=<span class="keyword">lambda</span> x,y:x+y</span><br><span class="line">g(<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">7</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">7</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="函数解决问题-自顶向下-分而治之"><a href="#函数解决问题-自顶向下-分而治之" class="headerlink" title="函数解决问题 自顶向下 分而治之"></a>函数解决问题 自顶向下 分而治之</h2><p>问题描述：小丹和小伟羽毛球水平都不错，100个球小丹赢55次，小伟赢45次。<br>大型比赛谁先获得21分谁就获胜1局1分，小丹赢得概率远远大于小伟，通过模拟实验解释，即相当于比赛10000次 每次看谁先到21分谁就获胜</p>
<p>问题分解  将问题分解为3部分1获取原始数据 2模拟结果 3输出结果</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    prob_A,prob_B,number_of_games=get_inputs()                     <span class="comment">#获取原始数据</span></span><br><span class="line">    win_A,win_B = sim_n_games(prob_A,prob_B,number_of_games)       <span class="comment">#获取模拟结果</span></span><br><span class="line">    print_summary(win_A,win_B,number_of_games)                     <span class="comment">#结果汇总输出</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="1、输入原始数据"><a href="#1、输入原始数据" class="headerlink" title="1、输入原始数据"></a>1、输入原始数据</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_inputs</span>():</span></span><br><span class="line">    prob_A=<span class="built_in">eval</span>(<span class="built_in">input</span>(<span class="string">&#x27;输入A获胜的概率&#x27;</span>))</span><br><span class="line">    prob_B=<span class="built_in">round</span>(<span class="number">1</span>-prob_A,<span class="number">2</span>)</span><br><span class="line">    number_of_games=<span class="built_in">eval</span>(<span class="built_in">input</span>(<span class="string">&quot;请输入场次&quot;</span>))</span><br><span class="line">    <span class="keyword">return</span> prob_A,prob_B,number_of_games</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="2、获取模拟结果-多场比赛模拟"><a href="#2、获取模拟结果-多场比赛模拟" class="headerlink" title="2、获取模拟结果 多场比赛模拟"></a>2、获取模拟结果 多场比赛模拟</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sim_n_games</span>(<span class="params">prob_A,prob_B,number_of_games</span>):</span></span><br><span class="line">    win_A,win_B=<span class="number">0</span>,<span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(number_of_games):</span><br><span class="line">        score_A,score_B=sim_one_game(prob_A,prob_B)        <span class="comment">#sim_one_game 模拟单场比赛的结果</span></span><br><span class="line">        <span class="keyword">if</span> score_A&gt;score_B:</span><br><span class="line">            win_A+=<span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            win_B+=<span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> win_A,win_B</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="2、获取模拟结果-单场比赛"><a href="#2、获取模拟结果-单场比赛" class="headerlink" title="2、获取模拟结果  单场比赛"></a>2、获取模拟结果  单场比赛</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sim_one_game</span>(<span class="params">prob_A,prob_B</span>):</span></span><br><span class="line">    score_A,socreB=<span class="number">0</span>,<span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> <span class="keyword">not</span> game_over(socre_A,socre_B):   <span class="comment">#循环结束的条件是两者之一达到21分,这里写成 not (score_A==21 or score_B==21)也行</span></span><br><span class="line">        <span class="keyword">if</span> random.random()&lt;prob_A:</span><br><span class="line">            score_A+=<span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            socre_B+=<span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> score_A,socre_B</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">game_over</span>(<span class="params">score_A,score_B</span>):</span></span><br><span class="line">    <span class="keyword">return</span> score_A==<span class="number">21</span> <span class="keyword">or</span> score_B==<span class="number">21</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="5函数式编程"><a href="#5函数式编程" class="headerlink" title="5函数式编程"></a>5函数式编程</h1><h2 id="高阶函数-map-reduce-filter-sorted-返回函数-匿名函数-装饰器-偏函数"><a href="#高阶函数-map-reduce-filter-sorted-返回函数-匿名函数-装饰器-偏函数" class="headerlink" title="高阶函数(map/reduce filter sorted)  返回函数 匿名函数 装饰器 偏函数"></a>高阶函数(map/reduce filter sorted)  返回函数 匿名函数 装饰器 偏函数</h2><h3 id="内嵌函数和闭包"><a href="#内嵌函数和闭包" class="headerlink" title="内嵌函数和闭包"></a>内嵌函数和闭包</h3><p>函数是可以进行嵌套定义，在函数内部定义函数 但是需要注意的是内部函数的作用域只能是外部函数内 离开外部函数去调用内部是不可行的</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func1</span>():</span></span><br><span class="line">    print(<span class="string">&quot;正在调用func1&quot;</span>)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">func2</span>():</span></span><br><span class="line">        print(<span class="string">&quot;正在调用func2&quot;</span>)</span><br><span class="line">    func2() <span class="comment">#在外部函数内调用内部函数func2</span></span><br><span class="line"></span><br><span class="line">func1()</span><br><span class="line">func2()<span class="comment">#在函数外调用内部函数会出错</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">正在调用func1</span><br><span class="line">正在调用func2</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">---------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">NameError                                 Traceback (most recent call last)</span><br><span class="line"></span><br><span class="line">&lt;ipython-input-2-972881d8f00c&gt; in &lt;module&gt;</span><br><span class="line">      6 </span><br><span class="line">      7 func1()</span><br><span class="line">----&gt; 8 func2()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">NameError: name &#39;func2&#39; is not defined</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>函数式编程是一种编程范式，闭包是函数式编程的一个重要语法结构，闭包就是能够读取其他内部变量的函数 </p>
<p>需要注意以下两点：<br>一 闭包的概念本身就是由内部函数而来 因此不能在函数外部访问调用内部函数<br>二 对于内部函数y x相对于funcy而言就是全局变量因此只能访问不能修改  但是可以使用nonlocal关键字访问 类似global关键字</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">funcx</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">funcy</span>(<span class="params">y</span>):</span></span><br><span class="line">        <span class="keyword">return</span> x+y</span><br><span class="line">    <span class="keyword">return</span> funcy</span><br><span class="line">i=funcx(<span class="number">5</span>) <span class="comment">#返回一个函数funcy然后能读取外部变量x</span></span><br><span class="line">i(<span class="number">8</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">13</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="内置函数-BIF-map-reduce-filter-sorted（三者高阶函数）-zip函数"><a href="#内置函数-BIF-map-reduce-filter-sorted（三者高阶函数）-zip函数" class="headerlink" title="内置函数(BIF) map/reduce filter sorted（三者高阶函数）   zip函数"></a>内置函数(BIF) map/reduce filter sorted（三者高阶函数）   zip函数</h3><p>什么是高阶函数？<br>高阶函数是指以下两种函数：<br>可以接受函数名作为实参<br>返回值中可以包含函数名  </p>
<p>map函数用法：map()函数接收两个参数，一个是函数，一个是Iterable，map将传入的函数依次作用到序列的每个元素，并把结果作为新的Iterator返回。<br>map(function, iterable, …)<br>reduce把一个函数作用在一个序列[x1, x2, x3, …]上，这个函数必须接收两个参数，reduce把结果继续和序列的下一个元素做累积计算，其效果如下：<br>reduce(f, [x1, x2, x3, x4]) = f(f(f(x1, x2), x3), x4)</p>
<p>filter()函数用法：filter用于过滤序列 过滤掉不符合条件的元素，返回一个迭代器对象，如果要转换为列表，可以使用 list() 来转换，接收两个参数，第一个为函数，第二个为序列，序列的每个元素作为参数传递给函数进行判，然后返回 True 或 False，最后将返回 True 的元素放到新列表中，None的时候筛选出列表中值为True的函数<br>filter(function or None, iterable)</p>
<p>sorted 前面谈到list时谈到过 sorted实际上也是个高阶函数 对于数字能够比较大小如果是字符串或者两个dict呢 因此需要将自定义比较过程通过函数抽象出来</p>
<p>zip函数用法：zip() 函数用于将可迭代的对象作为参数，将对象中对应的元素打包成一个个元组，然后返回由这些元组组成的对象，这样做的好处是节约了不少的内存，我们可以使用 list() 转换来输出列表。如果各个迭代器的元素个数不一致，则返回列表长度与最短的对象相同，利用 * 号操作符，可以将元组解压为列表<br>zip(iterabl，)<br>zip( *list )的用法与zip相反 相当于解压 返回二维矩阵形式</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#map举例 </span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">return</span> x * x</span><br><span class="line">r = <span class="built_in">map</span>(f, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>])</span><br><span class="line">print(<span class="built_in">list</span>(r))</span><br><span class="line"><span class="comment">#map()传入的第一个参数是f，即函数对象本身。由于结果r是一个Iterator，Iterator是惰性序列</span></span><br><span class="line"><span class="comment">#因此通过list()函数让它把整个序列都计算出来并返回一个list。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#reduce举例</span></span><br><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">x, y</span>):</span></span><br><span class="line">    <span class="keyword">return</span> x+y</span><br><span class="line">print(reduce(add, [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>]))</span><br><span class="line"></span><br><span class="line"><span class="comment">#把序列[1, 3, 5, 7, 9]变换成整数13579</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fn</span>(<span class="params">x, y</span>):</span></span><br><span class="line">    <span class="keyword">return</span> x*<span class="number">10</span>+y</span><br><span class="line"></span><br><span class="line">print(reduce(fn,[<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>]))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#可以自己写一个str2int函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">char2num</span>(<span class="params">s</span>):</span></span><br><span class="line">    digits = &#123;<span class="string">&#x27;0&#x27;</span>: <span class="number">0</span>, <span class="string">&#x27;1&#x27;</span>: <span class="number">1</span>, <span class="string">&#x27;2&#x27;</span>: <span class="number">2</span>, <span class="string">&#x27;3&#x27;</span>: <span class="number">3</span>, <span class="string">&#x27;4&#x27;</span>: <span class="number">4</span>, <span class="string">&#x27;5&#x27;</span>: <span class="number">5</span>, <span class="string">&#x27;6&#x27;</span>: <span class="number">6</span>, <span class="string">&#x27;7&#x27;</span>: <span class="number">7</span>, <span class="string">&#x27;8&#x27;</span>: <span class="number">8</span>, <span class="string">&#x27;9&#x27;</span>: <span class="number">9</span>&#125;</span><br><span class="line">    <span class="keyword">return</span> digits[s]</span><br><span class="line">reduce(fn, <span class="built_in">map</span>(char2num, <span class="string">&#x27;13579&#x27;</span>))<span class="comment">#这样就是一个str2int的方法</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[1, 4, 9, 16, 25, 36, 49, 64, 81]</span><br><span class="line">25</span><br><span class="line">13579</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#filter 举例  筛选出奇数的filter</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">odd</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">return</span> x%<span class="number">2</span></span><br><span class="line"><span class="built_in">list</span>(<span class="built_in">filter</span>(odd,<span class="built_in">range</span>(<span class="number">10</span>))) <span class="comment">#filter(函数名)</span></span><br><span class="line"><span class="comment">#首先将0-9中所有数都用odd函数使用一边 然后选出其中为true的 偶数%2得0自然是0代表false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#用filter计算素数 埃氏筛法 原理就是取序列第一个数2筛掉2的倍数 在取新序列的第一个数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_odd_iter</span>():</span></span><br><span class="line">    n = <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        n = n + <span class="number">2</span></span><br><span class="line">        <span class="keyword">yield</span> n</span><br><span class="line"><span class="comment">#_odd_iter生成器作用是生成从3开始的奇数序列</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_not_divisible</span>(<span class="params">n</span>):</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">lambda</span> x: x % n &gt; <span class="number">0</span></span><br><span class="line"><span class="comment">#_not_divisible的作用是返回一个lambda表达式 最后会筛选倍数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">a</span>():</span></span><br><span class="line">    <span class="keyword">yield</span> <span class="number">2</span></span><br><span class="line">    it = _odd_iter() <span class="comment"># 初始序列</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        n = <span class="built_in">next</span>(it)</span><br><span class="line">        <span class="keyword">yield</span> n</span><br><span class="line">        it = <span class="built_in">filter</span>(_not_divisible(n), it) <span class="comment"># 构造新序列</span></span><br><span class="line"><span class="comment">#由于primes()也是一个无限序列，所以调用时需要设置一个退出循环的条件</span></span><br><span class="line"><span class="keyword">for</span> n <span class="keyword">in</span> primes():</span><br><span class="line">    <span class="keyword">if</span> n &lt; <span class="number">1000</span>:</span><br><span class="line">        print(n)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[1, 3, 5, 7, 9]</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#sorted能对列表进行排序</span></span><br><span class="line">print(<span class="built_in">sorted</span>([<span class="number">36</span>, <span class="number">5</span>, -<span class="number">12</span>, <span class="number">9</span>, -<span class="number">21</span>],reverse=<span class="literal">True</span>))</span><br><span class="line"><span class="comment">#sorted 函数可以接受一个key来实现自定义排序</span></span><br><span class="line">print(<span class="built_in">sorted</span>([<span class="number">36</span>, <span class="number">5</span>, -<span class="number">12</span>, <span class="number">9</span>, -<span class="number">21</span>], key=<span class="built_in">abs</span>))</span><br><span class="line"><span class="comment">#绝对值是36 5 12 9 21 从小到大排后 5 9 12 21 36 然后对应原始列表 5 9 -12 -21 36</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#对于字符串的情况</span></span><br><span class="line"><span class="comment">#默认情况下，对字符串排序，是按照ASCII的大小比较的，由于&#x27;Z&#x27; &lt; &#x27;a&#x27;，结果，大写字母Z会排在小写字母a的前面</span></span><br><span class="line"><span class="comment">#但是如果要忽略大小写</span></span><br><span class="line">print(<span class="built_in">sorted</span>([<span class="string">&#x27;bob&#x27;</span>, <span class="string">&#x27;about&#x27;</span>, <span class="string">&#x27;Zoo&#x27;</span>, <span class="string">&#x27;Credit&#x27;</span>]))</span><br><span class="line">print(<span class="built_in">sorted</span>([<span class="string">&#x27;bob&#x27;</span>, <span class="string">&#x27;about&#x27;</span>, <span class="string">&#x27;Zoo&#x27;</span>, <span class="string">&#x27;Credit&#x27;</span>], key=<span class="built_in">str</span>.lower))</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[36, 9, 5, -12, -21]</span><br><span class="line">[5, 9, -12, -21, 36]</span><br><span class="line">[&#39;Credit&#39;, &#39;Zoo&#39;, &#39;about&#39;, &#39;bob&#39;]</span><br><span class="line">[&#39;about&#39;, &#39;bob&#39;, &#39;Credit&#39;, &#39;Zoo&#39;]</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#zip函数举例</span></span><br><span class="line">a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">b=[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line">c=[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>]</span><br><span class="line">print(<span class="built_in">zip</span>(a,b))</span><br><span class="line">print(<span class="built_in">list</span>(<span class="built_in">zip</span>(a,b)))</span><br><span class="line">print(<span class="built_in">list</span>(<span class="built_in">zip</span>(a,c)))</span><br><span class="line">a,b=<span class="built_in">zip</span>(*<span class="built_in">zip</span>(a,b)) <span class="comment">#zip(*)返回二维矩阵形式</span></span><br><span class="line">print(a)</span><br><span class="line">print(b)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;zip object at 0x000002203E10F408&gt;</span><br><span class="line">[(1, 4), (2, 5), (3, 6)]</span><br><span class="line">[(1, 7), (2, 8), (3, 9)]</span><br><span class="line">(1, 2, 3)</span><br><span class="line">(4, 5, 6)</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#zip 常用操作</span></span><br><span class="line">names=[<span class="string">&#x27;tom&#x27;</span>,<span class="string">&#x27;jack&#x27;</span>,<span class="string">&#x27;hp&#x27;</span>]</span><br><span class="line">ages=[<span class="number">12</span>,<span class="number">15</span>,<span class="number">18</span>]</span><br><span class="line"><span class="comment">#一般循环遍历如下</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(names)):</span><br><span class="line">    print(<span class="string">f&#x27;<span class="subst">&#123;names[i]&#125;</span>的年龄是<span class="subst">&#123;ages[i]&#125;</span>&#x27;</span>) <span class="comment">#f代表的意思是格式化输出 </span></span><br><span class="line">    </span><br><span class="line">print(<span class="string">&#x27;------------&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> name,age <span class="keyword">in</span> <span class="built_in">zip</span>(names,ages):</span><br><span class="line">    print(<span class="string">f&#x27;二：<span class="subst">&#123;name&#125;</span>的年龄是<span class="subst">&#123;age&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">tom的年龄是12</span><br><span class="line">jack的年龄是15</span><br><span class="line">hp的年龄是18</span><br><span class="line">------------</span><br><span class="line">二：tom的年龄是12</span><br><span class="line">二：jack的年龄是15</span><br><span class="line">二：hp的年龄是18</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#zip的常用操作 在机器学习当中经常需要打乱数据集</span></span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line">x=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line">y=[<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>]</span><br><span class="line">zipped_data=<span class="built_in">list</span>(<span class="built_in">zip</span>(x,y))</span><br><span class="line">print(zipped_data)</span><br><span class="line">random.shuffle(zipped_data)</span><br><span class="line">print(zipped_data)</span><br><span class="line">print(*zipped_data)</span><br><span class="line">new_zipped_data=<span class="built_in">list</span>(<span class="built_in">zip</span>(*zipped_data))</span><br><span class="line">print(new_zipped_data)</span><br><span class="line">new_X, new_y = new_zipped_data[<span class="number">0</span>], new_zipped_data[<span class="number">1</span>]</span><br><span class="line">print(<span class="string">&#x27;new_X:&#x27;</span>,new_X, <span class="string">&#x27;\n&#x27;</span>, <span class="string">&#x27;new_y:&#x27;</span>,new_y)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[(1, 0), (2, 1), (3, 0), (4, 0), (5, 1), (6, 0)]</span><br><span class="line">[(3, 0), (4, 0), (2, 1), (1, 0), (5, 1), (6, 0)]</span><br><span class="line">(3, 0) (4, 0) (2, 1) (1, 0) (5, 1) (6, 0)</span><br><span class="line">[(3, 4, 2, 1, 5, 6), (0, 0, 1, 0, 1, 0)]</span><br><span class="line">new_X: (3, 4, 2, 1, 5, 6) </span><br><span class="line"> new_y: (0, 0, 1, 0, 1, 0)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="返回函数"><a href="#返回函数" class="headerlink" title="返回函数"></a>返回函数</h3><p>高阶函数除了可以接受函数作为参数外，还可以把函数作为结果值返回</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">lazy_sum</span>(<span class="params">*args</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sum</span>():</span></span><br><span class="line">        ax = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> n <span class="keyword">in</span> args:</span><br><span class="line">            ax = ax + n</span><br><span class="line">        <span class="keyword">return</span> ax</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sum</span></span><br><span class="line"><span class="comment">#该函数返回了一个函数 实现了求和功能</span></span><br><span class="line"><span class="comment">#当我们调用lazy_sum()时，返回的并不是求和结果，而是求和函数</span></span><br><span class="line">f = lazy_sum(<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>)</span><br><span class="line"><span class="comment">#调用f时才是函数的计算结果</span></span><br><span class="line">print(f())</span><br><span class="line"><span class="comment">#内部定义函数可以使用外部函数的参数但是不能修改，这叫做函数闭包</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#note 1当我们调用lazy_sum()时，每次调用都会返回一个新的函数，即使传入相同的参数</span></span><br><span class="line">f1 = lazy_sum(<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>)</span><br><span class="line">f2 = lazy_sum(<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>)</span><br><span class="line">print(f1==f2)</span><br><span class="line"></span><br><span class="line"><span class="comment">#note 2 返回的函数并没有立刻执行，而是直到调用了f()才执行</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">count</span>():</span></span><br><span class="line">    fs = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">4</span>):</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">f</span>():</span></span><br><span class="line">             <span class="keyword">return</span> i*i</span><br><span class="line">        fs.append(f)</span><br><span class="line">    <span class="keyword">return</span> fs</span><br><span class="line"><span class="comment">#这个函数每次循环都创建了一个函数 ，最后返回一个列表 列表内存了三个函数</span></span><br><span class="line">print(<span class="built_in">type</span>(count()))</span><br><span class="line">f1,f2,f3=count()</span><br><span class="line">print(<span class="built_in">type</span>(f1))</span><br><span class="line">print(f1(),f2(),f3())  <span class="comment">#注意结果并不是 1 4 9 而是9 9 9</span></span><br><span class="line"><span class="comment">#原因是 返回的函数并没有立刻执行 而是直到调用的时候执行 而返回函数引用了变量i 等到3个函数返回时 变量i已经变成3了</span></span><br><span class="line"><span class="comment">#如果一定要引用循环变量怎么办？方法是再创建一个函数，用该函数的参数绑定循环变量当前的值，</span></span><br><span class="line"><span class="comment">#无论该循环变量后续如何更改，已绑定到函数参数的值不变</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">count1</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f</span>(<span class="params">j</span>):</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">g</span>():</span></span><br><span class="line">            <span class="keyword">return</span> j*j</span><br><span class="line">        <span class="keyword">return</span> g</span><br><span class="line">    fs = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">4</span>):</span><br><span class="line">        fs.append(f(i)) <span class="comment"># f(i)立刻被执行，因此i的当前值被传入f()</span></span><br><span class="line">    <span class="keyword">return</span> fs</span><br><span class="line">f1, f2, f3 = count1()</span><br><span class="line">print(f1(),f2(),f3())</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">25</span><br><span class="line">False</span><br><span class="line">&lt;class &#39;list&#39;&gt;</span><br><span class="line">&lt;class &#39;function&#39;&gt;</span><br><span class="line">9 9 9</span><br><span class="line">1 4 9</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>返回闭包时牢记一点：返回函数不要引用任何循环变量，或者后续会发生变化的变量</p>
<h2 id="匿名函数-实际上就是lambda表达式-lambda-变量：函数体"><a href="#匿名函数-实际上就是lambda表达式-lambda-变量：函数体" class="headerlink" title="匿名函数 实际上就是lambda表达式 lambda 变量：函数体"></a>匿名函数 实际上就是lambda表达式 lambda 变量：函数体</h2><p>lambda常用是在参数列表中使用，尤其是与key=搭配</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ls=[(<span class="number">93</span>,<span class="number">88</span>),(<span class="number">79</span>,<span class="number">100</span>),(<span class="number">86</span>,<span class="number">71</span>),(<span class="number">85</span>,<span class="number">85</span>),(<span class="number">76</span>,<span class="number">94</span>)]</span><br><span class="line">ls.sort()</span><br><span class="line">ls</span><br><span class="line"><span class="comment">#是按照第一个元素进行的排序</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[(76, 94), (79, 100), (85, 85), (86, 71), (93, 88)]</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ls.sort(key=<span class="keyword">lambda</span> x:x[<span class="number">1</span>])</span><br><span class="line">ls</span><br><span class="line"><span class="comment">#这样就按照第二个元素进行排序了</span></span><br><span class="line"><span class="comment">#加和也行 lambda x:x[0]+x[1]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[(86, 71), (85, 85), (93, 88), (76, 94), (79, 100)]</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>max min 中也可以</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ls=[(<span class="number">93</span>,<span class="number">88</span>),(<span class="number">79</span>,<span class="number">100</span>),(<span class="number">86</span>,<span class="number">71</span>),(<span class="number">85</span>,<span class="number">85</span>),(<span class="number">76</span>,<span class="number">94</span>)]</span><br><span class="line"><span class="built_in">max</span>(ls,key=<span class="keyword">lambda</span> x:x[<span class="number">1</span>])</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="利用匿名函数统计字符并进行排序"><a href="#利用匿名函数统计字符并进行排序" class="headerlink" title="利用匿名函数统计字符并进行排序"></a>利用匿名函数统计字符并进行排序</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">s=<span class="string">&quot;八百标兵奔北坡，北坡八百炮兵炮。标兵怕碰炮兵炮，炮兵怕把标兵碰。&quot;</span></span><br><span class="line">d=&#123;&#125;</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> s:</span><br><span class="line">   d[i]=d.get(i,<span class="number">0</span>)+<span class="number">1</span></span><br><span class="line">print(d)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#39;八&#39;: 2, &#39;百&#39;: 2, &#39;标&#39;: 3, &#39;兵&#39;: 6, &#39;奔&#39;: 1, &#39;北&#39;: 2, &#39;坡&#39;: 2, &#39;，&#39;: 2, &#39;炮&#39;: 5, &#39;。&#39;: 2, &#39;怕&#39;: 2, &#39;碰&#39;: 2, &#39;把&#39;: 1&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="built_in">sorted</span>(d.items(),key=<span class="keyword">lambda</span> x:x[<span class="number">1</span>],reverse=<span class="literal">True</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[(&#39;兵&#39;, 6), (&#39;炮&#39;, 5), (&#39;标&#39;, 3), (&#39;八&#39;, 2), (&#39;百&#39;, 2), (&#39;北&#39;, 2), (&#39;坡&#39;, 2), (&#39;，&#39;, 2), (&#39;。&#39;, 2), (&#39;怕&#39;, 2), (&#39;碰&#39;, 2), (&#39;奔&#39;, 1), (&#39;把&#39;, 1)]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="装饰器"><a href="#装饰器" class="headerlink" title="装饰器"></a>装饰器</h2><p>欲了解装饰器 要明白两点 第一点：函数也是一个对象，而且函数对象可以被赋值给变量<br>第二点：高阶函数 (本章开头已经给出高阶函数的概念)<br>装饰器的本质实际上也是python的函数或者类，它可以在不改变原有函数结构的基础上 装饰函数给函数增加新功能<br>装饰器的作用：<br>一个是增强被装饰函数的行为<br>另一个是代码的复用</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#函数是对象并且能够赋值给变量</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">now</span>():</span></span><br><span class="line">    print(<span class="string">&#x27;1997-3-25&#x27;</span>)</span><br><span class="line">f=now</span><br><span class="line">f()</span><br><span class="line"><span class="comment">#函数对象有一个__name__属性，可以拿到函数的名字</span></span><br><span class="line">print(now.__name__)</span><br><span class="line">print(f.__name__)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1997-3-25</span><br><span class="line">now</span><br><span class="line">now</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">is_prime</span>(<span class="params">num</span>):</span></span><br><span class="line">    <span class="keyword">if</span> num == <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">elif</span> num &lt; <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>,num):</span><br><span class="line">            <span class="keyword">if</span> num%i == <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"><span class="comment">#is_prime 判断数是否是质数</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">prime_nums</span>():</span></span><br><span class="line">    t1=time.time()</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>,<span class="number">10000</span>):</span><br><span class="line">        <span class="keyword">if</span> is_prime(i):</span><br><span class="line">            print(i)</span><br><span class="line">    t2=time.time()</span><br><span class="line">    print(t2-t1)</span><br><span class="line"><span class="comment">#prime_nums函数的作用是输出2到10000之间的质数 并计算函数的时间</span></span><br><span class="line"><span class="comment">#现在需要将计算时间的代码 拿出来单独作为一个模块 看以后是否能复用</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">display_time</span>(<span class="params">func</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span>():</span></span><br><span class="line">        t1=time.time()</span><br><span class="line">        func()</span><br><span class="line">        t2=time.time()</span><br><span class="line">        print(t2-t1)</span><br><span class="line">    <span class="keyword">return</span> wrapper  <span class="comment">#这个return是display_time的返回值</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">is_prime</span>(<span class="params">num</span>):</span></span><br><span class="line">    <span class="keyword">if</span> num == <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">elif</span> num &lt; <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>,num):</span><br><span class="line">            <span class="keyword">if</span> num%i == <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"><span class="meta">@display_time </span><span class="comment">#语法糖</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">prime_nums</span>():</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>,<span class="number">50</span>):</span><br><span class="line">        <span class="keyword">if</span> is_prime(i):</span><br><span class="line">            print(i)</span><br><span class="line">prime_nums() <span class="comment">#这里会调用display_time中的wrapper函数 而不是prime_nums</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">3</span><br><span class="line">5</span><br><span class="line">7</span><br><span class="line">11</span><br><span class="line">13</span><br><span class="line">17</span><br><span class="line">19</span><br><span class="line">23</span><br><span class="line">29</span><br><span class="line">31</span><br><span class="line">37</span><br><span class="line">41</span><br><span class="line">43</span><br><span class="line">47</span><br><span class="line">0.0</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>Q1:被装饰的函数中有返回值怎么办  解决办法是在装饰器内部的函数中给返回出来</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">display_time</span>(<span class="params">func</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span>():</span></span><br><span class="line">        t1=time.time()</span><br><span class="line">        result=func() <span class="comment">#注意这里</span></span><br><span class="line">        t2=time.time()</span><br><span class="line">        print(t2-t1)</span><br><span class="line">        <span class="keyword">return</span> result <span class="comment">#装饰器不返回这个结果是没法计数的</span></span><br><span class="line">    <span class="keyword">return</span> wrapper  <span class="comment">#这个return是display_time的返回值</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">is_prime</span>(<span class="params">num</span>):</span></span><br><span class="line">    <span class="keyword">if</span> num == <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">elif</span> num &lt; <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>,num):</span><br><span class="line">            <span class="keyword">if</span> num%i == <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"><span class="meta">@display_time </span><span class="comment">#语法糖</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">count_prime_nums</span>():</span></span><br><span class="line">    count=<span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>,<span class="number">50</span>):</span><br><span class="line">        <span class="keyword">if</span> is_prime(i):</span><br><span class="line">            count=count+<span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> count</span><br><span class="line"></span><br><span class="line">count=count_prime_nums()</span><br><span class="line">print(count)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">0.0</span><br><span class="line">15</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>Q2:如果被装饰的函数需要传递参数怎么办  答案也是需要在装饰器中进行修改</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">display_time</span>(<span class="params">func</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span>(<span class="params">*args</span>):</span>  <span class="comment">#装饰器中不知道带几个参数就传递*args参数</span></span><br><span class="line">        t1=time.time()</span><br><span class="line">        result=func(*args) <span class="comment">#注意这里也要相应改变</span></span><br><span class="line">        t2=time.time()</span><br><span class="line">        print(t2-t1)</span><br><span class="line">        <span class="keyword">return</span> result <span class="comment">#装饰器不返回这个结果是没法计数的</span></span><br><span class="line">    <span class="keyword">return</span> wrapper  <span class="comment">#这个return是display_time的返回值</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">is_prime</span>(<span class="params">num</span>):</span></span><br><span class="line">    <span class="keyword">if</span> num == <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">elif</span> num &lt; <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>,num):</span><br><span class="line">            <span class="keyword">if</span> num%i == <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"><span class="meta">@display_time </span><span class="comment">#语法糖</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">count_prime_nums</span>(<span class="params">maxnum</span>):</span></span><br><span class="line">    count=<span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>,maxnum):</span><br><span class="line">        <span class="keyword">if</span> is_prime(i):</span><br><span class="line">            count=count+<span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> count</span><br><span class="line"></span><br><span class="line">count=count_prime_nums(<span class="number">700</span>)</span><br><span class="line">print(count)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">0.009998083114624023</span><br><span class="line">125</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>Q3：语法糖的原理</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#先写一个装饰器</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">again</span>(<span class="params">func</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span>():</span></span><br><span class="line">        print(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line">        func()</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">name</span>():</span></span><br><span class="line">    print(<span class="string">&quot;郑嘉晖带帅比嗷！&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#上面两个函数逻辑是 写了个装饰器 原函数是打印名字 后来加了个装饰器打印hello</span></span><br><span class="line"><span class="comment">#使用装饰器</span></span><br><span class="line">name=again(name)</span><br><span class="line">name()</span><br><span class="line"></span><br><span class="line"><span class="comment">#实际上语法糖的作用就是这样让原来函数名指向一个新的被装饰后的函数</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hello</span><br><span class="line">郑嘉晖带帅比嗷！</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="偏函数"><a href="#偏函数" class="headerlink" title="偏函数"></a>偏函数</h2><p>Python的functools模块提供了很多有用的功能，其中一个就是偏函数（Partial function）<br>偏函数的概念：一个函数的某些参数给固定住（也就是设置默认值），返回一个新的函数，调用这个新函数会更简单 这个新函数就叫做偏函数<br>和默认参数不同 是一个新函数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#int转化为数字</span></span><br><span class="line">print(<span class="built_in">int</span>(<span class="string">&#x27;12345&#x27;</span>))</span><br><span class="line"><span class="comment">#int()函数还提供额外的base参数，默认值为10。如果传入base参数，就可以做N进制的转换</span></span><br><span class="line">print(<span class="built_in">int</span>(<span class="string">&#x27;12345&#x27;</span>, base=<span class="number">8</span>))</span><br><span class="line"><span class="comment">#假设要转换大量的二进制字符串，每次都传入int(x, base=2)非常麻烦，于是，我们想到，可以定义一个int2()的函数，默认把base=2传进去</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">int2</span>(<span class="params">x, base=<span class="number">2</span></span>):</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">int</span>(x, base)</span><br><span class="line">print(int2(<span class="string">&#x27;1000000&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">#functools.partial就是帮助我们创建一个偏函数的，不需要我们自己定义int2()，可以直接使用下面的代码创建一个新的函数int2</span></span><br><span class="line"><span class="keyword">import</span> functools</span><br><span class="line">int2 = functools.partial(<span class="built_in">int</span>, base=<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">int2(<span class="string">&#x27;1000000&#x27;</span>, base=<span class="number">10</span>)<span class="comment">#虽然默认是2但是也可以在重新调用时传入参数10</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">12345</span><br><span class="line">5349</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>偏函数接受的参数：函数对象 *args和**kw</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">int2 = functools.partial(<span class="built_in">int</span>, base=<span class="number">2</span>)</span><br><span class="line"><span class="comment">#实际上相当于传递了参数</span></span><br><span class="line">kw = &#123; <span class="string">&#x27;base&#x27;</span>: <span class="number">2</span> &#125;</span><br><span class="line"><span class="built_in">int</span>(<span class="string">&#x27;10010&#x27;</span>, **kw)</span><br><span class="line">max2 = functools.partial(<span class="built_in">max</span>, <span class="number">10</span>)</span><br><span class="line"><span class="comment">#实际上会把10作为*args的一部分自动加到左边</span></span><br><span class="line"><span class="comment">#如果调用max2(5, 6, 7) 相当于</span></span><br><span class="line">args = (<span class="number">10</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>)</span><br><span class="line"><span class="built_in">max</span>(*args)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="6python高级特性：切片-迭代-列表生成式-生成器-迭代器"><a href="#6python高级特性：切片-迭代-列表生成式-生成器-迭代器" class="headerlink" title="6python高级特性：切片 迭代 列表生成式 生成器 迭代器"></a>6python高级特性：切片 迭代 列表生成式 生成器 迭代器</h1><p>python高级特性：切片 迭代 列表生成式 生成器 迭代器  </p>
<p>切片只要是序列都能使用 如list str tuple<br>方法是list[start : end : step] 序列从0开始 尾是-1 不包括end    </p>
<p>迭代：如果给定一个list或tuple，我们可以通过for循环来遍历这个list或tuple，这种遍历我们称为迭代（Iteration）<br>可迭代对象Iterable：list tuple dict set str 虽然dict和set并没有下标 是无序的<br>任何可迭代对象都可以作用于for循环，包括我们自定义的数据类型，只要符合迭代条件，就可以使用for循环<br>实现下标循环：Python内置的enumerate函数可以把一个list变成索引-元素对，这样就可以在for循环中同时迭代索引和元素本身  </p>
<p>列表生成式List Comprehensions：格式如下 [variable for variable in list] 两个variable必须是一致的  </p>
<p>生成器:通过列表生成式，我们可以直接创建一个列表。但是，受到内存限制，列表容量肯定是有限的。而且，创建一个包含100万个元素的列表，不仅占用很大的存储空间，如果我们仅仅需要访问前面几个元素，那后面绝大多数元素占用的空间都白白浪费了。<br>所以，如果列表元素可以按照某种算法推算出来，那我们是否可以在循环的过程中不断推算出后续的元素呢？这样就不必创建完整的list，从而节省大量的空间。在Python中，这种一边循环一边计算的机制，称为生成器：generator。  </p>
<p>迭代器Iterator:可以被next()函数调用并不断返回下一个值的对象称为迭代器：Iterator </p>
<p>这几者之间的关系:<br>凡是可作用于for循环的对象都是Iterable类型  其中包括list tuple dict set str以及自定义的generator：包括生成器和带yield的generator function<br>凡是可作用于next()函数的对象都是Iterator类型，它们表示一个惰性计算的序列 只包括generator</p>
<p>三者关系如下图<br><img src="/2021/03/22/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E4%B8%8B%E8%BD%BD/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/15.png" alt="jupyter"></p>
<h2 id="迭代"><a href="#迭代" class="headerlink" title="迭代"></a>迭代</h2><p>注意迭代的如果是字典之类无序的 那么出来的结果也不一定符合预期顺序</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#如何判断是否是可迭代对象 引入collections模块的Iterable类型判断</span></span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> Iterable</span><br><span class="line"><span class="built_in">isinstance</span>(<span class="string">&#x27;abc&#x27;</span>, Iterable)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">d:\Anaconda3\lib\site-packages\ipykernel_launcher.py:2: DeprecationWarning: Using or importing the ABCs from &#39;collections&#39; instead of from &#39;collections.abc&#39; is deprecated, and in 3.8 it will stop working</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>​    </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">True</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#要实现</span></span><br><span class="line">a=[<span class="string">&quot;小黑&quot;</span>,<span class="string">&quot;小红&quot;</span>,<span class="string">&quot;小黄&quot;</span>,<span class="string">&quot;小白&quot;</span>]</span><br><span class="line"><span class="keyword">for</span> i,j <span class="keyword">in</span> <span class="built_in">enumerate</span>(a):</span><br><span class="line">    print(i,j)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">0 小黑</span><br><span class="line">1 小红</span><br><span class="line">2 小黄</span><br><span class="line">3 小白</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="列表生成式"><a href="#列表生成式" class="headerlink" title="列表生成式"></a>列表生成式</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#列表生成式 要生成[1x1, 2x2, 3x3, ..., 10x10]</span></span><br><span class="line">print([x * x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">11</span>)])</span><br><span class="line"><span class="comment">#还可以使用两层循环，可以生成全排列</span></span><br><span class="line">print([m + n <span class="keyword">for</span> m <span class="keyword">in</span> <span class="string">&#x27;ABC&#x27;</span> <span class="keyword">for</span> n <span class="keyword">in</span> <span class="string">&#x27;XYZ&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#for循环内还可以用两个变量 dict的items可以遍历键和值  </span></span><br><span class="line">d = &#123;<span class="string">&#x27;x&#x27;</span>: <span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;y&#x27;</span>: <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;z&#x27;</span>: <span class="string">&#x27;C&#x27;</span> &#125;</span><br><span class="line">print([k + <span class="string">&#x27;=&#x27;</span> + v <span class="keyword">for</span> k, v <span class="keyword">in</span> d.items()])</span><br><span class="line"></span><br><span class="line"><span class="comment">#常用的方式 ：列出当前目录下的所有文件和目录名</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line">print([d <span class="keyword">for</span> d <span class="keyword">in</span> os.listdir(<span class="string">&#x27;.&#x27;</span>)])</span><br><span class="line"></span><br><span class="line"><span class="comment">#列表生成式种的if else使用方法</span></span><br><span class="line"><span class="comment">#第一种</span></span><br><span class="line"><span class="comment">#列表生成式的for循环后面跟条件表达式</span></span><br><span class="line">[x * x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">11</span>) <span class="keyword">if</span> x % <span class="number">2</span> == <span class="number">0</span>] <span class="comment">#可以筛选出仅偶数的平方</span></span><br><span class="line"><span class="comment">#注意后面不能加else,这里的if表示一种筛选条件</span></span><br><span class="line"><span class="comment">#第二种写在前面</span></span><br><span class="line">[x <span class="keyword">if</span> x % <span class="number">2</span> == <span class="number">0</span> <span class="keyword">else</span> -x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">11</span>)]</span><br><span class="line"><span class="comment">#前面的部分需要计算出结果 没有else怎么计算出结果呢？</span></span><br><span class="line"><span class="comment">#可见，在一个列表生成式中，for前面的if ... else是表达式，而for后面的if是过滤条件，不能带else</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[1, 4, 9, 16, 25, 36, 49, 64, 81, 100]</span><br><span class="line">[&#39;AX&#39;, &#39;AY&#39;, &#39;AZ&#39;, &#39;BX&#39;, &#39;BY&#39;, &#39;BZ&#39;, &#39;CX&#39;, &#39;CY&#39;, &#39;CZ&#39;]</span><br><span class="line">[&#39;x&#x3D;A&#39;, &#39;y&#x3D;B&#39;, &#39;z&#x3D;C&#39;]</span><br><span class="line">[&#39;.ipynb_checkpoints&#39;, &#39;123.txt&#39;, &#39;Matplotlib库.ipynb&#39;, &#39;Numpy.ipynb&#39;, &#39;Numpy与Pandas&#39;, &#39;Pandas.ipynb&#39;, &#39;python基础知识&#39;, &#39;python基础知识回顾.ipynb&#39;, &#39;python数据结构与算法.ipynb&#39;, &#39;练习.ipynb&#39;, &#39;菜菜的sklearn&#39;, &#39;风险平价.ipynb&#39;]</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[-1, 2, -3, 4, -5, 6, -7, 8, -9, 10]</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="生成器"><a href="#生成器" class="headerlink" title="生成器"></a>生成器</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#生成器</span></span><br><span class="line"><span class="comment">#创建生成器的方法之一 将列表的生成式中的[] 改成()即可</span></span><br><span class="line">g=(x*x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">11</span>))</span><br><span class="line"><span class="built_in">next</span>(g)</span><br><span class="line"><span class="built_in">next</span>(g)</span><br><span class="line"><span class="built_in">next</span>(g)</span><br><span class="line"><span class="built_in">next</span>(g)</span><br><span class="line"><span class="built_in">next</span>(g)</span><br><span class="line"><span class="built_in">next</span>(g)</span><br><span class="line"><span class="built_in">next</span>(g)</span><br><span class="line"><span class="built_in">next</span>(g)</span><br><span class="line"><span class="built_in">next</span>(g)</span><br><span class="line"><span class="built_in">next</span>(g)</span><br><span class="line"><span class="built_in">next</span>(g)</span><br><span class="line"><span class="comment">#next()函数会获得generator的每个计算数值 但是到了最后时候会 抛出stopiteration异常</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">---------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">StopIteration                             Traceback (most recent call last)</span><br><span class="line"></span><br><span class="line">&lt;ipython-input-52-3e1e38d62dd3&gt; in &lt;module&gt;</span><br><span class="line">     12 next(g)</span><br><span class="line">     13 next(g)</span><br><span class="line">---&gt; 14 next(g)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">StopIteration: </span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#通常使用for循环 也不用考虑stopiteration异常</span></span><br><span class="line">g=(x*x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">11</span>))</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> g:</span><br><span class="line">    print(i)</span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;******************&quot;</span>)</span><br><span class="line"><span class="comment">#第二种方法是推算的算法比较复杂时候 列表生成式for循环无法实现时可以使用函数来实现 比如斐波那契数列</span></span><br><span class="line"><span class="comment">#1, 1, 2, 3, 5, 8, 13, 21, 34, ...</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fib</span>(<span class="params"><span class="built_in">max</span></span>):</span></span><br><span class="line">    n, a, b = <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> n &lt; <span class="built_in">max</span>:</span><br><span class="line">        print(b)</span><br><span class="line">        a, b = b, a + b</span><br><span class="line">        n = n + <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;done&#x27;</span></span><br><span class="line"><span class="comment">#把这个函数改成生成器</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fib1</span>(<span class="params"><span class="built_in">max</span></span>):</span></span><br><span class="line">    n, a, b = <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> n &lt; <span class="built_in">max</span>:</span><br><span class="line">        <span class="keyword">yield</span> b</span><br><span class="line">        a, b = b, a + b</span><br><span class="line">        n = n + <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;done&#x27;</span></span><br><span class="line"><span class="comment">#即如果函数内包含yield关键字 就不再是一个普通函数而是一个生成器generator</span></span><br><span class="line">g=fib1(<span class="number">6</span>)</span><br><span class="line">print(g)<span class="comment">#g是个generator</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> g:</span><br><span class="line">    print(i)</span><br><span class="line">print(<span class="string">&quot;*************************&quot;</span>)</span><br><span class="line"><span class="comment">#generator和函数的执行流程不一样。函数是顺序执行，遇到return语句或者最后一行函数语句就返回。</span></span><br><span class="line"><span class="comment">#而变成generator的函数，在每次调用next()的时候执行，遇到yield语句返回，再次执行时从上次返回的yield语句处继续执行</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">odd</span>():</span></span><br><span class="line">    print(<span class="string">&#x27;step 1&#x27;</span>)</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">1</span></span><br><span class="line">    print(<span class="string">&#x27;step 2&#x27;</span>)</span><br><span class="line">    <span class="keyword">yield</span>(<span class="number">3</span>)</span><br><span class="line">    print(<span class="string">&#x27;step 3&#x27;</span>)</span><br><span class="line">    <span class="keyword">yield</span>(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">o=odd()<span class="comment">#先创建一个对象</span></span><br><span class="line">print(<span class="built_in">next</span>(o))<span class="comment">#执行到第一步yield之后再往下执行</span></span><br><span class="line">print(<span class="built_in">next</span>(o))</span><br><span class="line">print(<span class="built_in">next</span>(o))</span><br><span class="line">print(<span class="string">&quot;********************&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#如何在generator中捕获返回值 可以看到在fib1函数即生成器g中没有return done</span></span><br><span class="line"><span class="comment">#用for循环调用generator时，发现拿不到generator的return语句的返回值。</span></span><br><span class="line"><span class="comment">#如果想要拿到返回值，必须捕获StopIteration错误，返回值包含在StopIteration的value中：</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        x = <span class="built_in">next</span>(g)</span><br><span class="line">        print(<span class="string">&#x27;g:&#x27;</span>, x)</span><br><span class="line">    <span class="keyword">except</span> StopIteration <span class="keyword">as</span> e:</span><br><span class="line">        print(<span class="string">&#x27;Generator return value:&#x27;</span>, e.value)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">4</span><br><span class="line">9</span><br><span class="line">16</span><br><span class="line">25</span><br><span class="line">36</span><br><span class="line">49</span><br><span class="line">64</span><br><span class="line">81</span><br><span class="line">100</span><br><span class="line">******************</span><br><span class="line">&lt;generator object fib1 at 0x00000215BC4E60C8&gt;</span><br><span class="line">1</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">5</span><br><span class="line">8</span><br><span class="line">*************************</span><br><span class="line">step 1</span><br><span class="line">1</span><br><span class="line">step 2</span><br><span class="line">3</span><br><span class="line">step 3</span><br><span class="line">5</span><br><span class="line">********************</span><br><span class="line">Generator return value: None</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="迭代器"><a href="#迭代器" class="headerlink" title="迭代器"></a>迭代器</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#可迭代对象有两类：一类是集合数据类型，如list、tuple、dict、set、str等</span></span><br><span class="line"><span class="comment">#另一类是：generator，包括生成器和带yield的generator function</span></span><br><span class="line"><span class="comment">#但是生成器可以被next()函数不断调用并返回下一个值，直到最后抛出StopIteration错误表示无法继续返回下一个值了</span></span><br><span class="line"><span class="comment">#可以被next()函数调用并不断返回下一个值的对象称为迭代器：Iterator</span></span><br><span class="line"><span class="comment">#可以用isinstance 判断是否是迭代器</span></span><br><span class="line"><span class="keyword">from</span> collections.abc <span class="keyword">import</span> Iterator</span><br><span class="line"><span class="built_in">isinstance</span>((x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)), Iterator)</span><br><span class="line"><span class="built_in">isinstance</span>([], Iterator)</span><br><span class="line"><span class="comment">#生成器都是Iterator对象，但list、dict、str虽然是Iterable，却不是Iterator</span></span><br><span class="line"><span class="comment">#把list、dict、str等Iterable变成Iterator可以使用iter()函数</span></span><br><span class="line"><span class="built_in">isinstance</span>(<span class="built_in">iter</span>([]), Iterator)</span><br><span class="line"><span class="comment">#Python的Iterator对象表示的是一个数据流，Iterator对象可以被next()函数调用并不断返回下一个数据，直到没有数据时抛出StopIteration错误。</span></span><br><span class="line"><span class="comment">#可以把这个数据流看做是一个有序序列，但我们却不能提前知道序列的长度，</span></span><br><span class="line"><span class="comment">#只能不断通过next()函数实现按需计算下一个数据，所以Iterator的计算是惰性的，只有在需要返回下一个数据时它才会计算</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#python中的for循环本质上就是不断通过</span></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]:</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line">it = <span class="built_in">iter</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]) <span class="comment">#iter可以将列表变成迭代器</span></span><br><span class="line"><span class="comment"># 循环:</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment"># 获得下一个值:</span></span><br><span class="line">        x = <span class="built_in">next</span>(it)</span><br><span class="line">    <span class="keyword">except</span> StopIteration:</span><br><span class="line">        <span class="comment"># 遇到StopIteration就退出循环</span></span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">True</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h1 id="7-模块"><a href="#7-模块" class="headerlink" title="7 模块"></a>7 模块</h1><p>模块分类：python内置：时间库time、随机库random、容器数据类型collection、迭代器类型itertools<br>第三方库：数据分析库numpy、pandas 数据可视化matplotlib、机器学习库scikit-learn、深度学习库Tensorflow<br>自定义文件库 单独py文件、包：多个文件</p>
<p>包 模块 和库的概念</p>
<p>模块是所编写的.py文件</p>
<p>包是为了管理将文件打包 第一个文件必须是__init__.py 包里面可以包含许多.py文件</p>
<p>库 是相关功能模块的集合</p>
<p>实际上包和库的概念区别 库 是逻辑层面的概念，包 是存储层面的概念  理解为库是包的集合库包括标准库 第三方库 自定义库</p>
<h2 id="使用模块"><a href="#使用模块" class="headerlink" title="使用模块"></a>使用模块</h2><p>内置了很多非常有用的模块，只要安装完毕，这些模块就可以立刻使用。<br>下面以内建的sys模块为例 编写一个hello模块讲解一个模块的写法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27; a test module &#x27;</span></span><br><span class="line"></span><br><span class="line">__author__ = <span class="string">&#x27;Michael Liao&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test</span>():</span></span><br><span class="line">    args = sys.argv</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(args)==<span class="number">1</span>:</span><br><span class="line">        print(<span class="string">&#x27;Hello, world!&#x27;</span>)</span><br><span class="line">    <span class="keyword">elif</span> <span class="built_in">len</span>(args)==<span class="number">2</span>:</span><br><span class="line">        print(<span class="string">&#x27;Hello, %s!&#x27;</span> % args[<span class="number">1</span>])</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">&#x27;Too many arguments!&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    test()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>导入sys模块后，我们就有了变量sys指向该模块，利用sys这个变量，就可以访问sys模块的所有功能<br>sys模块有一个argv变量，用list存储了命令行的所有参数。argv至少有一个元素，因为第一个参数永远是该.py文件的名称<br>运行python3 hello.py获得的sys.argv就是[‘hello.py’]<br>运行python3 hello.py Michael获得的sys.argv就是[‘hello.py’, ‘Michael’]</p>
<p>模块的使用有以下几种方式： 1、导入整个模块–import 模块名 调用方式：模块名.函数名或类名<br>2、从模块中导入类或函数–from 模块 import类名或者函数名 调用方式：函数名或类名<br>3、导入模块中所有的类和函数 from 模块 import *  </p>
<h3 id="模块搜索路径"><a href="#模块搜索路径" class="headerlink" title="模块搜索路径"></a>模块搜索路径</h3><p>首先是内存中已加载的模块，导入了某个模块后，即使删除硬盘上的模块，再导入还是可以成功的<br>其次是内置模块 python启动时，解释器会默认加载一些sys.modules中内置的模块 sys.modules中包含一个由当前载入到解释器的模块组成的字典，模块名作为键，他们的位置作为值<br>最后是 sys.path中包含的模块</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line">print(<span class="built_in">len</span>(sys.modules))</span><br><span class="line">print(<span class="string">&quot;math&quot;</span> <span class="keyword">in</span> sys.modules)</span><br><span class="line"><span class="keyword">for</span> k,v <span class="keyword">in</span> <span class="built_in">list</span>(sys.modules.items())[:<span class="number">5</span>]:</span><br><span class="line">    print(k,<span class="string">&quot;:&quot;</span>,v)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">755</span><br><span class="line">True</span><br><span class="line">sys : &lt;module &#39;sys&#39; (built-in)&gt;</span><br><span class="line">builtins : &lt;module &#39;builtins&#39; (built-in)&gt;</span><br><span class="line">_frozen_importlib : &lt;module &#39;importlib._bootstrap&#39; (frozen)&gt;</span><br><span class="line">_imp : &lt;module &#39;_imp&#39; (built-in)&gt;</span><br><span class="line">_thread : &lt;module &#39;_thread&#39; (built-in)&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#默认情况下，Python解释器会搜索当前目录、所有已安装的内置模块和第三方模块，搜索路径存放在sys模块的path变量中</span></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">sys.path</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[&#39;D:\\jupyternotebook&#39;,</span><br><span class="line"> &#39;d:\\Anaconda3\\python37.zip&#39;,</span><br><span class="line"> &#39;d:\\Anaconda3\\DLLs&#39;,</span><br><span class="line"> &#39;d:\\Anaconda3\\lib&#39;,</span><br><span class="line"> &#39;d:\\Anaconda3&#39;,</span><br><span class="line"> &#39;&#39;,</span><br><span class="line"> &#39;d:\\Anaconda3\\lib\\site-packages&#39;,</span><br><span class="line"> &#39;d:\\Anaconda3\\lib\\site-packages\\win32&#39;,</span><br><span class="line"> &#39;d:\\Anaconda3\\lib\\site-packages\\win32\\lib&#39;,</span><br><span class="line"> &#39;d:\\Anaconda3\\lib\\site-packages\\Pythonwin&#39;,</span><br><span class="line"> &#39;d:\\Anaconda3\\lib\\site-packages\\IPython\\extensions&#39;,</span><br><span class="line"> &#39;C:\\Users\\Yehu_Zheng\\.ipython&#39;]</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>sys.path第一个路径是当前执行文件所在文件夹<br>若需将不在该文件内的模块导入，需要将模块的路径添加到sys.path</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#添加自定义搜索路径有两种方式</span></span><br><span class="line"><span class="comment">#一种是sys.path.append(想添加的路径)</span></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">sys.append(<span class="string">&#x27;/Users/michael/my_py_scripts&#x27;</span>) <span class="comment">#这种方法是运行时修改，运行结束后失效</span></span><br><span class="line"><span class="comment">#第二种方法是设置环境变量PYTHONPATH，该环境变量的内容会被自动添加到模块搜索路径中。</span></span><br><span class="line"><span class="comment">#设置方式与设置Path环境变量类似。注意只需要添加你自己的搜索路径，Python自己本身的搜索路径不受影响。</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="if-name-’-main‘-用来做测试"><a href="#if-name-’-main‘-用来做测试" class="headerlink" title="if _name__==’_main‘ 用来做测试"></a>if _<em>name__==’_<em>main</em></em>‘ 用来做测试</h3><p>经常会在python中看到if __name__==’__main__‘ 那他有什么作用呢？<br>假如现在有两个文件 a.py和b.py<br>a.py的内容是  </p>
<p>print(_<em>name__)<br>def love:<br>print(“i love you”)<br># if _<em>name\</em></em>==’__main__’<br>love()</p>
<p>b的内容是<br>import a<br>a.love()</p>
<p>如果运行a 打印出来的结果是 __main__ 也就是说python会自动给py文件分配一个名字 叫main<br>而如果通过运行b来间接的执行print(__name__)函数 结果是文件的名字即a  </p>
<p>现在问题来了为什么要加这一句if呢？<br>因为比如写了一个包 在没调用时运行 比如上面想要在内部运行不加的话a中的love()语句执行一次 b中的a.love又执行一次  </p>
<h1 id="8面向对象编程："><a href="#8面向对象编程：" class="headerlink" title="8面向对象编程："></a>8面向对象编程：</h1><h2 id="类和实例"><a href="#类和实例" class="headerlink" title="类和实例"></a>类和实例</h2><p>类相当于图纸 对象是类的实例 描述一个对象通常有两个方面给 一是对象的静态方面即属性 第二个是对象的动态行为即方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#定义类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Turtle</span>:</span></span><br><span class="line">    color=<span class="string">&#x27;green&#x27;</span></span><br><span class="line">    mouth=<span class="string">&quot;小嘴巴&quot;</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">climb</span>(<span class="params">self</span>):</span>    <span class="comment">#note这里必须得有self  类中的方法必须得要有self参数</span></span><br><span class="line">        print(<span class="string">&quot;他正在爬&quot;</span>)</span><br><span class="line"><span class="comment">#实例化对象</span></span><br><span class="line">tt=Turtle()</span><br><span class="line">print(tt.color)</span><br><span class="line">tt.climb()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">green</span><br><span class="line">他正在爬</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>类中的魔法方法<strong>init</strong>(self,)在实例化对象的时候就会被调用，可以通过它在创造对象时起作用 c++里叫做构造函数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Potato</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,name</span>):</span>   <span class="comment">#这样创建时就不能传递空参数了。必须绑定name属性</span></span><br><span class="line">        self.name=name</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">kick</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;我是%s,他踢了我一脚&quot;</span>%self.name)</span><br><span class="line">p=Potato(<span class="string">&quot;土豆&quot;</span>)</span><br><span class="line">p.kick()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">我是土豆,他踢了我一脚</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>类的方法与函数的关系：普通的函数相比，在类中定义的函数只有一点不同，就是第一个参数永远是实例变量self，并且，调用时，不用传递该参数。除此之外，类的方法和普通函数没有什么区别，所以，你仍然可以用默认参数、可变参数、关键字参数和命名关键字参数。  </p>
<p>类一大特点就是在内部定义用来访问数据的方法实现对数据的封装  </p>
<p>和静态语言不同，Python允许对实例变量绑定任何数据，也就是说，对于两个实例变量，虽然它们都是同一个类的不同实例，但拥有的变量名称都可能不同：</p>
<h2 id="访问限制"><a href="#访问限制" class="headerlink" title="访问限制"></a>访问限制</h2><h3 id="private和public"><a href="#private和public" class="headerlink" title="private和public"></a>private和public</h3><p>在一个模块中，我们可能会定义很多函数和变量，但有的函数和变量我们希望给别人使用，有的函数和变量我们希望仅仅在模块内部使用<br>正常的函数和变量名是公开的（public），可以被直接引用，比如：abc，x123，PI等  </p>
<p>类似__xxx__这样的变量是特殊变量，可以被直接引用，但是有特殊用途，比如上面的__author__，__name__就是特殊变量，hello模块定义的文档注释也可以用特殊变量__doc__访问  </p>
<p>类似_xxx和__xxx这样的函数或变量就是非公开的（private），不应该被直接引用，比如_abc，__abc等。实际上Python并没有一种方法可以完全限制访问private函数或变量，但是，从编程习惯上不应该引用private函数或变量, _单下划线和__双下划线的区别 ：_单下划线外部能访问但是约定俗成不应该访问，__双下划线外部不能访问</p>
<p>公有和私有 name mangling 想要把属性变成私有的只需要在其前面加上双下划线__  实际上python是伪私有 在外部使用“_类名__变量名”即可访问，所以在python中私有是一种伪私有</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>:</span></span><br><span class="line">    __name=<span class="string">&quot;zjh&quot;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_name</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.__name</span><br><span class="line">p=Person()</span><br><span class="line"><span class="comment">#p.__name这样访问不了 但是可以通过内部函数返回</span></span><br><span class="line">print(p.get_name())</span><br><span class="line"><span class="comment">#但是p._Person__name是可以访问的</span></span><br><span class="line">print(p._Person__name)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">zjh</span><br><span class="line">zjh</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="继承和多态"><a href="#继承和多态" class="headerlink" title="继承和多态"></a>继承和多态</h2><p>继承<br>class 类名(被继承的类):<br>一个子类可以继承父类的任何属性和方法，但是如果子类中定义与父类同名的方法或属性，则会自动覆盖父类的属性和方法(多态)，如果想要调用父类方法的执行在需要的位置使用super（）.父类方法 来调用父类方法的执行</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Parent</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">say</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;我是你爸&quot;</span>)</span><br><span class="line">    name=<span class="string">&quot;hello&quot;</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Child</span>(<span class="params">Parent</span>):</span></span><br><span class="line">    name=<span class="string">&quot;儿子&quot;</span></span><br><span class="line">    </span><br><span class="line">p=Child()</span><br><span class="line">p.say()</span><br><span class="line">p.name<span class="comment">#同名的方法或属性会覆盖</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">我是你爸</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#39;儿子&#39;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#多态的好处</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&#x27;Animal is running...&#x27;</span>)        </span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span>(<span class="params">Animal</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&#x27;Dog is running...&#x27;</span>)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&#x27;Eating meat...&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run_twice</span>(<span class="params">animal</span>):</span></span><br><span class="line">    animal.run()</span><br><span class="line">    animal.run()    </span><br><span class="line">    </span><br><span class="line">run_twice(Animal())</span><br><span class="line">print()</span><br><span class="line"></span><br><span class="line">run_twice(Dog())</span><br><span class="line">print()</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tortoise</span>(<span class="params">Animal</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&#x27;Tortoise is running slowly...&#x27;</span>)</span><br><span class="line">run_twice(Tortoise())</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Animal is running...</span><br><span class="line">Animal is running...</span><br><span class="line"></span><br><span class="line">Dog is running...</span><br><span class="line">Dog is running...</span><br><span class="line"></span><br><span class="line">Tortoise is running slowly...</span><br><span class="line">Tortoise is running slowly...</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>新增一个Animal的子类，不必对run_twice()做任何修改，实际上，任何依赖Animal作为参数的函数或者方法都可以不加修改地正常运行，原因就在于多态。  </p>
<p>多态的好处就是，当我们需要传入Dog、Cat、Tortoise……时，我们只需要接收Animal类型就可以了，因为Dog、Cat、Tortoise……都是Animal类型，然后，按照Animal类型进行操作即可。由于Animal类型有run()方法，因此，传入的任意类型，只要是Animal类或者子类，就会自动调用实际类型的run()方法，这就是多态的意思</p>
<p>对于一个变量，我们只需要知道它是Animal类型，无需确切地知道它的子类型，就可以放心地调用run()方法，而具体调用的run()方法是作用在Animal、Dog、Cat还是Tortoise对象上，由运行时该对象的确切类型决定，这就是多态真正的威力：调用方只管调用，不管细节，而当我们新增一种Animal的子类时，只要确保run()方法编写正确，不用管原来的代码是如何调用的。这就是著名的“开闭”原则：</p>
<p>对扩展开放：允许新增Animal子类；</p>
<p>对修改封闭：不需要修改依赖Animal类型的run_twice()等函数。</p>
<h2 id="动态语言中的“鸭子类型”"><a href="#动态语言中的“鸭子类型”" class="headerlink" title="动态语言中的“鸭子类型”"></a>动态语言中的“鸭子类型”</h2><p>对于静态语言（例如Java）来说，如果需要传入Animal类型，则传入的对象必须是Animal类型或者它的子类，否则，将无法调用run()方法<br>对于Python这样的动态语言来说，则不一定需要传入Animal类型。我们只需要保证传入的对象有一个run()方法就可以了  </p>
<p>这就是动态语言的“鸭子类型”，它并不要求严格的继承体系，一个对象只要“看起来像鸭子，走起路来像鸭子”，那它就可以被看做是鸭子</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Timer</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&#x27;Start...&#x27;</span>)</span><br><span class="line">run_twice(Timer())</span><br><span class="line"><span class="comment">#动态python语言不必继承于animal</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Start...</span><br><span class="line">Start...</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="获取对象信息-如何知道某个对象有哪些类型，有什么方法"><a href="#获取对象信息-如何知道某个对象有哪些类型，有什么方法" class="headerlink" title="获取对象信息  (如何知道某个对象有哪些类型，有什么方法)"></a>获取对象信息  (如何知道某个对象有哪些类型，有什么方法)</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#1、使用type()  基本数据类型 函数或者类都能判断 返回对应的类型</span></span><br><span class="line">print(<span class="built_in">type</span>(<span class="number">123</span>))</span><br><span class="line">print(<span class="built_in">type</span>(<span class="built_in">abs</span>))<span class="comment">#内置函数</span></span><br><span class="line"><span class="comment">#判断自己定义的函数 需要使用types模块中定义的常量</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> types</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fn</span>():</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line">print(<span class="built_in">type</span>(fn)==types.FunctionType)</span><br><span class="line">print(<span class="built_in">type</span>(<span class="keyword">lambda</span> x: x)==types.LambdaType)</span><br><span class="line">print(<span class="built_in">type</span>((x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)))==types.GeneratorType)</span><br><span class="line"></span><br><span class="line"><span class="comment">#2、使用isinstance  isinstance也可以判断继承关系 子类属于父类 父类不属于子类</span></span><br><span class="line"><span class="built_in">isinstance</span>(<span class="string">&#x27;a&#x27;</span>, <span class="built_in">str</span>)</span><br><span class="line">print()</span><br><span class="line"></span><br><span class="line"><span class="comment">#3、使用dir获取一个对象的所有属性和方法，它返回一个包含字符串的list</span></span><br><span class="line"><span class="built_in">dir</span>(<span class="string">&#x27;ABC&#x27;</span>)</span><br><span class="line"><span class="comment">#值得注意的是__len__带双下划线的属性和方法，调用len(&quot;ABC&quot;)返回长度实际上会自动调用对象内部的__len()__方法</span></span><br><span class="line"><span class="comment">#len(&quot;ABC&quot;)与“ABC&quot;.__len()__是一样的</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#想要在自己定义的类中也加入len方法可以编写__len()__函数</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyDog</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__len__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">100</span></span><br><span class="line">dog=MyDog()</span><br><span class="line"><span class="built_in">len</span>(dog)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#配合对象的getarr()、setattr()以及hasattr()，我们可以直接操作一个对象的状态</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyObject</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.x = <span class="number">9</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">power</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.x * self.x</span><br><span class="line"></span><br><span class="line">obj = MyObject()</span><br><span class="line"><span class="comment">#测试该对象的属性</span></span><br><span class="line">print(<span class="built_in">hasattr</span>(obj, <span class="string">&#x27;x&#x27;</span>)) <span class="comment">#是否有x属性</span></span><br><span class="line">print(<span class="built_in">hasattr</span>(obj, <span class="string">&#x27;y&#x27;</span>)) <span class="comment"># 有属性&#x27;y&#x27;吗？</span></span><br><span class="line"><span class="built_in">setattr</span>(obj, <span class="string">&#x27;y&#x27;</span>, <span class="number">19</span>) <span class="comment"># 设置一个属性&#x27;y&#x27;</span></span><br><span class="line">print(<span class="built_in">hasattr</span>(obj, <span class="string">&#x27;y&#x27;</span>)) <span class="comment"># 有属性&#x27;y&#x27;吗？</span></span><br><span class="line"><span class="built_in">getattr</span>(obj, <span class="string">&#x27;y&#x27;</span>) <span class="comment"># 获取属性&#x27;y&#x27;</span></span><br><span class="line">obj.y <span class="comment"># 获取属性&#x27;y</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#在知道某个类有了某个属性情况下是不需要使用这些的，而是在不知道的情况下使用getattr()之类的方法的</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;class &#39;int&#39;&gt;</span><br><span class="line">&lt;class &#39;builtin_function_or_method&#39;&gt;</span><br><span class="line">True</span><br><span class="line">True</span><br><span class="line">True</span><br><span class="line"></span><br><span class="line">True</span><br><span class="line">False</span><br><span class="line">True</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">19</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="实例属性和类属性"><a href="#实例属性和类属性" class="headerlink" title="实例属性和类属性"></a>实例属性和类属性</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#由于Python是动态语言，根据类创建的实例可以任意绑定属性</span></span><br><span class="line"><span class="comment">#实例属性是通过实例变量或者通过self变量</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line"></span><br><span class="line">s = Student(<span class="string">&#x27;Bob&#x27;</span>)</span><br><span class="line">s.score = <span class="number">90</span></span><br><span class="line"><span class="comment">#上述代码中name score都是实例属性</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#但是，如果Student类本身需要绑定一个属性呢？可以直接在class中定义属性，这种属性是类属性，归Student类所有</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    name = <span class="string">&#x27;Student&#x27;</span></span><br><span class="line">s = Student() <span class="comment"># 创建实例s</span></span><br><span class="line">print(s.name) <span class="comment"># 打印name属性，因为实例并没有name属性，所以会继续查找class的name属性</span></span><br><span class="line">print(Student.name) <span class="comment"># 打印类的name属性</span></span><br><span class="line">s.name = <span class="string">&#x27;Michael&#x27;</span> <span class="comment"># 给实例绑定name属性</span></span><br><span class="line">print(s.name) <span class="comment"># 由于实例属性优先级比类属性高，因此，它会屏蔽掉类的name属性</span></span><br><span class="line">print(Student.name) <span class="comment"># 但是类属性并未消失，用Student.name仍然可以访问</span></span><br><span class="line"><span class="keyword">del</span> s.name <span class="comment"># 如果删除实例的name属性</span></span><br><span class="line">print(s.name) <span class="comment"># 再次调用s.name，由于实例的name属性没有找到，类的name属性就显示出来了</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Student</span><br><span class="line">Student</span><br><span class="line">Michael</span><br><span class="line">Student</span><br><span class="line">Student</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="9面向对象高级编程"><a href="#9面向对象高级编程" class="headerlink" title="9面向对象高级编程"></a>9面向对象高级编程</h1><h2 id="使用-slots"><a href="#使用-slots" class="headerlink" title="使用__slots__"></a>使用__slots__</h2><p>slot英文插槽的意思顾名思义实例和类可以绑定属性和方法，slot就是用来限制实例的属性</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="使用-property"><a href="#使用-property" class="headerlink" title="使用@property"></a>使用@property</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<p>关于文件异常和模块掌握以下内容</p>
<p><img src="/2021/03/22/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E4%B8%8B%E8%BD%BD/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/16.png" alt="jupyter"></p>
<h1 id="10错误调试和测试"><a href="#10错误调试和测试" class="headerlink" title="10错误调试和测试"></a>10错误调试和测试</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#常见的错误</span></span><br><span class="line"><span class="comment">#除0错误  ZeroDivisionError   1/0</span></span><br><span class="line"><span class="comment">#找不到文件错误  FileNotFoundError</span></span><br><span class="line"><span class="comment">#值错误-valueError</span></span><br><span class="line"><span class="comment">#索引错误 indexError</span></span><br><span class="line"><span class="comment">#类型错误 TypeError</span></span><br><span class="line"><span class="comment">#nameRrror使用一个还未被赋予对象的变量 KeyError试图访问字典里不存在的键</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>异常处理</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#1、try except进行异常处理</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    print(<span class="string">&#x27;try...&#x27;</span>)</span><br><span class="line">    r = <span class="number">10</span> / <span class="built_in">int</span>(<span class="string">&#x27;2&#x27;</span>)</span><br><span class="line">    print(<span class="string">&#x27;result:&#x27;</span>, r)</span><br><span class="line"><span class="keyword">except</span> ValueError <span class="keyword">as</span> e:</span><br><span class="line">    print(<span class="string">&#x27;ValueError:&#x27;</span>, e)</span><br><span class="line"><span class="keyword">except</span> ZeroDivisionError <span class="keyword">as</span> e:</span><br><span class="line">    print(<span class="string">&#x27;ZeroDivisionError:&#x27;</span>, e)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">&#x27;no error!&#x27;</span>)</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    print(<span class="string">&#x27;finally...&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;END&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#解释：如果try内代码顺利执行不触发except，except内的代码不执行，else内代码在不发生错误时会执行 finally内代码一定会执行 </span></span><br><span class="line"><span class="comment">#注意错误是有继承关系的，捕获错误类型的同时会将其他子类一网打尽 ，也就是说发生了父类错误并捕获之后子类错误就不会捕获</span></span><br><span class="line"><span class="comment">#Exception是所有错误的老祖宗，常见的错误类型和继承关系：https://docs.python.org/3/library/exceptions.html#exception-hierarchy</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#异常处理还有一个好处是可以跨越多层调用，比如函数main()调用bar()，bar()调用foo()，结果foo()出错了，这时，只要main()捕获到了，就可以处理</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span>(<span class="params">s</span>):</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">10</span> / <span class="built_in">int</span>(s)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bar</span>(<span class="params">s</span>):</span></span><br><span class="line">    <span class="keyword">return</span> foo(s) * <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        bar(<span class="string">&#x27;0&#x27;</span>)</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        print(<span class="string">&#x27;Error:&#x27;</span>, e)</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        print(<span class="string">&#x27;finally...&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">try...</span><br><span class="line">result: 5.0</span><br><span class="line">no error!</span><br><span class="line">finally...</span><br><span class="line">END</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>错误没有被捕获时，它就会一直往上抛，最后被Python解释器捕获，打印一个错误信息，然后程序退出 –错误栈<br>Python内置的logging模块可以非常容易地记录错误信息   —记录错误<br>因为错误是class，捕获一个错误就是捕获到该class的一个实例。因此，错误并不是凭空产生的，而是有意创建并抛出的。Python的内置函数会抛出很多类型的错误，我们自己编写的函数也可以抛出错误。<br>如果要抛出错误，首先根据需要，可以定义一个错误的class，选择好继承关系，然后，用raise语句抛出一个错误的实例  –抛出错误</p>
<h1 id="11IO编程"><a href="#11IO编程" class="headerlink" title="11IO编程"></a>11IO编程</h1><h2 id="文件读写"><a href="#文件读写" class="headerlink" title="文件读写"></a>文件读写</h2><p>读写文件前，我们先必须了解一下，在磁盘上读写文件的功能都是由操作系统提供的，现代操作系统不允许普通的程序直接操作磁盘，所以，读写文件就是请求操作系统打开一个文件对象（通常称为文件描述符），然后，通过操作系统提供的接口从这个文件对象中读取数据（读文件），或者把数据写入这个文件对象（写文件）。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#读文件</span></span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">&#x27;/Users/michael/test.txt&#x27;</span>, <span class="string">&#x27;r&#x27;</span>)</span><br><span class="line"><span class="comment">#如果文件不存在，open()函数就会抛出一个IOError的错误，并且给出错误码和详细的信息告诉你文件不存在</span></span><br><span class="line"><span class="comment">#文件打开成功就可以使用  f.read() 就可以一次读取文件的全部内容 Python把内容读到内存，用一个str对象表示、</span></span><br><span class="line"><span class="comment">#最后一步是调用close()方法关闭文件。文件使用完毕后必须关闭，因为文件对象会占用操作系统的资源，并且操作系统同一时间能打开的文件数量也是有限的：</span></span><br><span class="line">f.close()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">---------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">FileNotFoundError                         Traceback (most recent call last)</span><br><span class="line"></span><br><span class="line">&lt;ipython-input-61-e359c76679cd&gt; in &lt;module&gt;</span><br><span class="line">      1 #读文件</span><br><span class="line">----&gt; 2 f &#x3D; open(&#39;&#x2F;Users&#x2F;michael&#x2F;test.txt&#39;, &#39;r&#39;)</span><br><span class="line">      3 #如果文件不存在，open()函数就会抛出一个IOError的错误，并且给出错误码和详细的信息告诉你文件不存在</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">FileNotFoundError: [Errno 2] No such file or directory: &#39;&#x2F;Users&#x2F;michael&#x2F;test.txt&#39;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#由于文件读写时都有可能产生IOError，一旦出错，后面的f.close()就不会调用。</span></span><br><span class="line"><span class="comment">#所以，为了保证无论是否出错都能正确地关闭文件，我们可以使用try ... finally来实现：</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    f = <span class="built_in">open</span>(<span class="string">&#x27;/path/to/file&#x27;</span>, <span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">    print(f.read())</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    <span class="keyword">if</span> f:</span><br><span class="line">        f.close()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#由于总是这样写很麻烦 所以python引入with语句来自动帮我们调用close方法</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;/path/to/file&#x27;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    print(f.read())</span><br><span class="line"><span class="comment">#这种写法和上面的try finally是一样的 而且还不需要f.close()进行关闭</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#读取的方式 可以使用read()读取全部内容 read(size)每次最多读取size个字节内容 readline()每次读取一行内容  </span></span><br><span class="line"><span class="comment">#readlines()一次读取所有内容并按list形式返回</span></span><br><span class="line"><span class="comment">#所以按需求如果文件很小，read()一次性读取最方便；如果不能确定文件大小，反复调用read(size)比较保险；如果是配置文件，调用readlines()最方便</span></span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> f.readlines():</span><br><span class="line">    print(line.strip())</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="file-like-Object"><a href="#file-like-Object" class="headerlink" title="file-like Object"></a>file-like Object</h4><p>像open()函数返回的这种有个read()方法的对象，在Python中统称为file-like Object。除了file外，还可以是内存的字节流，网络流，自定义流等等。  file-like Object不要求从特定类继承，只要写个read()方法就行<br>StringIO就是在内存中创建的file-like Object，常用作临时缓冲  </p>
<p>二进制文件<br>要读取二进制文件，比如图片、视频等等，用’rb’模式打开文件即可 对二进制文件进行操作都是使用”b” 不能单独使用需要”rb”,”wb”一起使用</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">f = <span class="built_in">open</span>(<span class="string">&#x27;/Users/michael/test.jpg&#x27;</span>, <span class="string">&#x27;rb&#x27;</span>)</span><br><span class="line">f.read()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>字符编码<br>要读取非UTF-8编码的文本文件，需要给open()函数传入encoding参数，例如，读取GBK编码的文件</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">f = <span class="built_in">open</span>(<span class="string">&#x27;/Users/michael/gbk.txt&#x27;</span>, <span class="string">&#x27;r&#x27;</span>, encoding=<span class="string">&#x27;gbk&#x27;</span>)</span><br><span class="line">f.read()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#遇到有些编码不规范的文件，你可能会遇到UnicodeDecodeError，因为在文本文件中可能夹杂了一些非法编码的字符。</span></span><br><span class="line"><span class="comment">#遇到这种情况，open()函数还接收一个errors参数，表示如果遇到编码错误后如何处理。最简单的方式是直接忽略</span></span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">&#x27;/Users/michael/gbk.txt&#x27;</span>, <span class="string">&#x27;r&#x27;</span>, encoding=<span class="string">&#x27;gbk&#x27;</span>, errors=<span class="string">&#x27;ignore&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>写文件<br>写文件和读文件是一样的，唯一区别是调用open()函数时，传入标识符’w’或者’wb’表示写文本文件或写二进制文件  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">f = <span class="built_in">open</span>(<span class="string">&#x27;/Users/michael/test.txt&#x27;</span>, <span class="string">&#x27;w&#x27;</span>)</span><br><span class="line">f.write(<span class="string">&#x27;Hello, world!&#x27;</span>)</span><br><span class="line">f.close()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>你可以反复调用write()来写入文件，但是务必要调用f.close()来关闭文件。当我们写文件时，操作系统往往不会立刻把数据写入磁盘，而是放到内存缓存起来，空闲的时候再慢慢写入。只有调用close()方法时，操作系统才保证把没有写入的数据全部写入磁盘。<br>忘记调用close()的后果是数据可能只写了一部分到磁盘，剩下的丢失了。所以，还是用with语句来得保险</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;/Users/michael/test.txt&#x27;</span>, <span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(<span class="string">&#x27;Hello, world!&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>w是直接覆盖文本内容，如果要以追加的方式写入 需要使用”a”</p>
<h2 id="总结文件读取"><a href="#总结文件读取" class="headerlink" title="总结文件读取"></a>总结文件读取</h2><p>文件的打开：with open(“文件路径”,”打开方式”,encoding)<br>打开方式有：<br>r只读，文件不存在报错<br>w只写，文件不存在创建，覆盖原文件<br>x创建写模式，文件存在报错<br>a追加写，文件不存在创建，存在追加<br>b二进制文件，不能单独使用，配合“rb”，”rw” 因为是二进制不需要指定encoding<br>“t”文本文件默认值 配合r，w等使用 可以省略<br>“+” 原有模式上增加读写功能  </p>
<p>文件的读取：read,readline以及readlines<br>read是读取整个内容–print(f.read())即可<br>readline是逐行进行读取 f.readline()会将文件读入整个内存当中然后一行一行的读取 text=f.readline() 可以使用while循环打印全部内容<br>readlines()读入所有行，以每行为一个元素组成一个列表  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;a.txt&quot;</span>,<span class="string">&quot;r&quot;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        text=f.readline()</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> text:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(text,end=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"><span class="comment">#这样就可以实现打印所有行，需要注意的是每一行最后会有个换行符 同样的print打印也会在最后加上换行符 所以最后是end=&#x27;&#x27; 而读取到文件末尾就是</span></span><br><span class="line"><span class="comment">#空的字符串，可以判定为空结束循环</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>实际上 文件较大时使用read() 或者readlines()都比较耗费内存，而readline()又比较麻烦，其实可以直接对这个文件对象f进行迭代</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;a.txt&quot;</span>,<span class="string">&quot;r&quot;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="keyword">for</span> text <span class="keyword">in</span> f:</span><br><span class="line">        print(text)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="文件的写入-write和writelines"><a href="#文件的写入-write和writelines" class="headerlink" title="文件的写入 write和writelines"></a>文件的写入 write和writelines</h2><p>两种情况：1、向文件写入一个字符串或者字节流(二进制)—f.write()<br>2将一个元素为字符串的列表整体写入文件–f.writelines()</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;黑色夜曲&quot;</span>,<span class="string">&quot;w&quot;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.writes(<span class="string">&quot;黑色的玫瑰\n&quot;</span>)      <span class="comment">#文件不存在则创建一个 如需要换行则在末尾加上换行符</span></span><br><span class="line"><span class="comment">#如果需要在文件末尾后写入则需要改成追加模式&quot;a&quot; 这样就不会覆盖掉原文件了</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#将一个元素为字符串的列表整体写入文件</span></span><br><span class="line">ls=[<span class="string">&quot;秋天不回来\n&quot;</span>,<span class="string">&quot;春天刮着风\n&quot;</span>,<span class="string">&quot;春风秋雨多少海誓山盟随风远去\n&quot;</span>]</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;a.txt&quot;</span>,<span class="string">&quot;w&quot;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.writelines(ls)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="既读又写（r-w-a-）"><a href="#既读又写（r-w-a-）" class="headerlink" title="既读又写（r+,w+,a+）"></a>既读又写（r+,w+,a+）</h2><h1 id="r"><a href="#r" class="headerlink" title="r+"></a>r+</h1><p>文件名不存在时，报错<br>文件指针在开始位置<br>要把指针移到末尾才能开始写，否则会覆盖掉前面的内容  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;a.txt&quot;</span>,<span class="string">&quot;r+&quot;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line"><span class="comment">#     for line in f:</span></span><br><span class="line"><span class="comment">#         f.read()</span></span><br><span class="line">    f.seek(<span class="number">0</span>,<span class="number">2</span>)                            <span class="comment">#可以读一遍将指针指向文件末尾 也可以使用seek(偏移字节数，位置(0开始，1：当前位置 2：末尾))</span></span><br><span class="line">                                           <span class="comment">#将指针移动到指定位置</span></span><br><span class="line">    text=[<span class="string">&quot;萧瑟秋风今又是\n&quot;</span>,<span class="string">&quot;换了人间\n&quot;</span>]</span><br><span class="line">    f.writelines(text)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="w"><a href="#w" class="headerlink" title="w+"></a>w+</h2><p>文件不存在时创建<br>文件存在打开就会立即清空其中内容</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;a.txt&quot;</span>,<span class="string">&quot;w+&quot;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    text=[<span class="string">&quot;萧瑟秋风今又是\n&quot;</span>,<span class="string">&quot;换了人间\n&quot;</span>]</span><br><span class="line">    f.writelines(text)</span><br><span class="line">    f.seek(<span class="number">0</span>,<span class="number">0</span>)   <span class="comment">#注意写入文件后，指针应该回到开始位置这样才能读取                       </span></span><br><span class="line">    print(f.read())</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="a"><a href="#a" class="headerlink" title="a+"></a>a+</h2><p>文件不存在则创建<br>打开时指针在末尾，添加新内容不会清空原内容 因此如果要读取需要把指针移动到最开始位置</p>
<h2 id="StringIO和BytesIO"><a href="#StringIO和BytesIO" class="headerlink" title="StringIO和BytesIO"></a>StringIO和BytesIO</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#要把str写入StringIO，我们需要先创建一个StringIO，然后，像文件一样写入即可</span></span><br><span class="line"><span class="keyword">from</span> io <span class="keyword">import</span> StringIO</span><br><span class="line">f = StringIO()</span><br><span class="line">f.write(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line">print(f.getvalue())</span><br><span class="line"><span class="comment">#getvalue()方法用于获得写入后的str。</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#要读取StringIO，可以用一个str初始化StringIO，然后，像读文件一样读取</span></span><br><span class="line"><span class="keyword">from</span> io <span class="keyword">import</span> StringIO</span><br><span class="line">f = StringIO(<span class="string">&#x27;Hello!\nHi!\nGoodbye!&#x27;</span>)</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    s = f.readline()</span><br><span class="line">    <span class="keyword">if</span> s == <span class="string">&#x27;&#x27;</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    print(s.strip())</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hello</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#StringIO操作的只能是str，如果要操作二进制数据，就需要使用BytesIO。</span></span><br><span class="line"><span class="comment">#BytesIO实现了在内存中读写bytes，我们创建一个BytesIO，然后写入一些bytes</span></span><br><span class="line"><span class="keyword">from</span> io <span class="keyword">import</span> BytesIO</span><br><span class="line">f = BytesIO()</span><br><span class="line">f.write(<span class="string">&#x27;中文&#x27;</span>.encode(<span class="string">&#x27;utf-8&#x27;</span>))<span class="comment">#写入的不是str，而是经过UTF-8编码的bytes。</span></span><br><span class="line">f.getvalue()</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">b&#39;\xe4\xb8\xad\xe6\x96\x87&#39;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">f = BytesIO(<span class="string">b&#x27;\xe4\xb8\xad\xe6\x96\x87&#x27;</span>)</span><br><span class="line">f.read()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="操作文件和目录"><a href="#操作文件和目录" class="headerlink" title="操作文件和目录"></a>操作文件和目录</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#如果我们要操作文件、目录，可以在命令行下面输入操作系统提供的各种命令来完成。比如dir、cp等命令</span></span><br><span class="line"><span class="comment">#如果要在Python程序中执行这些目录和文件的操作怎么办？其实操作系统提供的命令只是简单地调用了操作系统提供的接口函数</span></span><br><span class="line"><span class="comment">#Python内置的os模块也可以直接调用操作系统提供的接口函数。</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">os.name</span><br><span class="line"><span class="comment">#如果是posix，说明系统是Linux、Unix或Mac OS X，如果是nt，就是Windows系统</span></span><br><span class="line"><span class="comment">#os模块的某些函数是跟操作系统相关的</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#39;nt&#39;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#在操作系统中定义的环境变量，全部保存在os.environ这个变量中</span></span><br><span class="line">print(os.environ)</span><br><span class="line"><span class="comment">#要获取某个环境变量的值，可以调用os.environ.get(&#x27;key&#x27;)</span></span><br><span class="line">os.environ.get(<span class="string">&quot;path&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">environ(&#123;&#39;ALLUSERSPROFILE&#39;: &#39;C:\\ProgramData&#39;, &#39;ANACONDA&#39;: &#39;D:\\Anaconda3\\Scripts&#39;, &#39;APPDATA&#39;: &#39;C:\\Users\\Yehu_Zheng\\AppData\\Roaming&#39;, &#39;ASL.LOG&#39;: &#39;Destination&#x3D;file&#39;, &#39;COMMONPROGRAMFILES&#39;: &#39;C:\\Program Files\\Common Files&#39;, &#39;COMMONPROGRAMFILES(X86)&#39;: &#39;C:\\Program Files (x86)\\Common Files&#39;, &#39;COMMONPROGRAMW6432&#39;: &#39;C:\\Program Files\\Common Files&#39;, &#39;COMPUTERNAME&#39;: &#39;DESKTOP-J0V2FJI&#39;, &#39;COMSPEC&#39;: &#39;C:\\Windows\\system32\\cmd.exe&#39;, &#39;CONDA_DEFAULT_ENV&#39;: &#39;base&#39;, &#39;CONDA_EXE&#39;: &#39;d:\\Anaconda3\\Scripts\\conda.exe&#39;, &#39;CONDA_PROMPT_MODIFIER&#39;: &#39;(base) &#39;, &#39;CONDA_PYTHON_EXE&#39;: &#39;d:\\Anaconda3\\python.exe&#39;, &#39;CONDA_ROOT&#39;: &#39;d:\\Anaconda3&#39;, &#39;CONDA_SHLVL&#39;: &#39;1&#39;, &#39;DRIVERDATA&#39;: &#39;C:\\Windows\\System32\\Drivers\\DriverData&#39;, &#39;FPS_BROWSER_APP_PROFILE_STRING&#39;: &#39;Internet Explorer&#39;, &#39;FPS_BROWSER_USER_PROFILE_STRING&#39;: &#39;Default&#39;, &#39;HOMEDRIVE&#39;: &#39;C:&#39;, &#39;HOMEPATH&#39;: &#39;\\Users\\Yehu_Zheng&#39;, &#39;JAVA_HOME&#39;: &#39;C:\\Program Files\\Java\\jdk-12.0.2&#39;, &#39;LOCALAPPDATA&#39;: &#39;C:\\Users\\Yehu_Zheng\\AppData\\Local&#39;, &#39;LOGONSERVER&#39;: &#39;\\\\DESKTOP-J0V2FJI&#39;, &#39;NEWENVIRONMENT4&#39;: &#39;C:\\Program Files\\IBM\\SPSS\\Modeler\\18.0\\bin&#39;, &#39;NEWENVIRONMENT6&#39;: &#39;C:\\ProgramData\\&#39;, &#39;NUMBER_OF_PROCESSORS&#39;: &#39;4&#39;, &#39;ONEDRIVE&#39;: &#39;C:\\Users\\Yehu_Zheng\\OneDrive&#39;, &#39;ONEDRIVECONSUMER&#39;: &#39;C:\\Users\\Yehu_Zheng\\OneDrive&#39;, &#39;OS&#39;: &#39;Windows_NT&#39;, &#39;PATH&#39;: &#39;d:\\Anaconda3;d:\\Anaconda3\\Library\\mingw-w64\\bin;d:\\Anaconda3\\Library\\usr\\bin;d:\\Anaconda3\\Library\\bin;d:\\Anaconda3\\Scripts;d:\\Anaconda3\\bin;d:\\Anaconda3\\condabin;d:\\Anaconda3;d:\\Anaconda3\\Library\\mingw-w64\\bin;d:\\Anaconda3\\Library\\usr\\bin;d:\\Anaconda3\\Library\\bin;d:\\Anaconda3\\Scripts;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0;C:\\Windows\\System32\\OpenSSH;C:\\Program Files\\Java\\jdk-12.0.2\\bin;C:\\Program Files\\IBM\\SPSS\\Modeler\\18.0\\ext\\bin\\spss.TMWBServer\\bin;C:\\Program Files\\IBM\\SPSS\\Modeler\\18.0\\MPICH2\\bin;C:\\Program Files\\IBM\\SPSS\\Modeler\\18.0\\TABI;d:\\Anaconda3;d:\\Anaconda3\\Library\\mingw-w64\\bin;d:\\Anaconda3\\Library\\usr\\bin;d:\\Anaconda3\\Library\\bin;d:\\Anaconda3\\Scripts;D:\\Python\\Python37-32\\Scripts;D:\\Python\\Python37-32;C:\\Users\\Yehu_Zheng\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Program Files\\Bandizip;D:\\PyCharm Community Edition 2020.2.2\\bin;.&#39;, &#39;PATHEXT&#39;: &#39;.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC&#39;, &#39;PROCESSOR_ARCHITECTURE&#39;: &#39;AMD64&#39;, &#39;PROCESSOR_IDENTIFIER&#39;: &#39;Intel64 Family 6 Model 61 Stepping 4, GenuineIntel&#39;, &#39;PROCESSOR_LEVEL&#39;: &#39;6&#39;, &#39;PROCESSOR_REVISION&#39;: &#39;3d04&#39;, &#39;PROGRAMDATA&#39;: &#39;C:\\ProgramData&#39;, &#39;PROGRAMFILES&#39;: &#39;C:\\Program Files&#39;, &#39;PROGRAMFILES(X86)&#39;: &#39;C:\\Program Files (x86)&#39;, &#39;PROGRAMW6432&#39;: &#39;C:\\Program Files&#39;, &#39;PROMPT&#39;: &#39;(base) $P$G&#39;, &#39;PSMODULEPATH&#39;: &#39;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\Windows\\system32\\WindowsPowerShell\\v1.0\\Modules&#39;, &#39;PUBLIC&#39;: &#39;C:\\Users\\Public&#39;, &#39;PYCHARM COMMUNITY EDITION&#39;: &#39;D:\\PyCharm Community Edition 2020.2.2\\bin;&#39;, &#39;SESSIONNAME&#39;: &#39;Console&#39;, &#39;SYSTEMDRIVE&#39;: &#39;C:&#39;, &#39;SYSTEMROOT&#39;: &#39;C:\\Windows&#39;, &#39;TEMP&#39;: &#39;C:\\Users\\YEHU_Z~1\\AppData\\Local\\Temp&#39;, &#39;TMP&#39;: &#39;C:\\Users\\YEHU_Z~1\\AppData\\Local\\Temp&#39;, &#39;TMWB18_HOME&#39;: &#39;C:\\Program Files\\IBM\\SPSS\\Modeler\\18.0\\ext\\lib\\spss.TMWBClient&#39;, &#39;USERDOMAIN&#39;: &#39;DESKTOP-J0V2FJI&#39;, &#39;USERDOMAIN_ROAMINGPROFILE&#39;: &#39;DESKTOP-J0V2FJI&#39;, &#39;USERNAME&#39;: &#39;Yehu_Zheng&#39;, &#39;USERPROFILE&#39;: &#39;C:\\Users\\Yehu_Zheng&#39;, &#39;WINDIR&#39;: &#39;C:\\Windows&#39;, &#39;CONDA_PREFIX&#39;: &#39;d:\\Anaconda3&#39;, &#39;KERNEL_LAUNCH_TIMEOUT&#39;: &#39;40&#39;, &#39;JPY_INTERRUPT_EVENT&#39;: &#39;2548&#39;, &#39;IPY_INTERRUPT_EVENT&#39;: &#39;2548&#39;, &#39;JPY_PARENT_PID&#39;: &#39;1544&#39;, &#39;TERM&#39;: &#39;xterm-color&#39;, &#39;CLICOLOR&#39;: &#39;1&#39;, &#39;PAGER&#39;: &#39;cat&#39;, &#39;GIT_PAGER&#39;: &#39;cat&#39;, &#39;MPLBACKEND&#39;: &#39;module:&#x2F;&#x2F;ipykernel.pylab.backend_inline&#39;&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#39;d:\\Anaconda3;d:\\Anaconda3\\Library\\mingw-w64\\bin;d:\\Anaconda3\\Library\\usr\\bin;d:\\Anaconda3\\Library\\bin;d:\\Anaconda3\\Scripts;d:\\Anaconda3\\bin;d:\\Anaconda3\\condabin;d:\\Anaconda3;d:\\Anaconda3\\Library\\mingw-w64\\bin;d:\\Anaconda3\\Library\\usr\\bin;d:\\Anaconda3\\Library\\bin;d:\\Anaconda3\\Scripts;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0;C:\\Windows\\System32\\OpenSSH;C:\\Program Files\\Java\\jdk-12.0.2\\bin;C:\\Program Files\\IBM\\SPSS\\Modeler\\18.0\\ext\\bin\\spss.TMWBServer\\bin;C:\\Program Files\\IBM\\SPSS\\Modeler\\18.0\\MPICH2\\bin;C:\\Program Files\\IBM\\SPSS\\Modeler\\18.0\\TABI;d:\\Anaconda3;d:\\Anaconda3\\Library\\mingw-w64\\bin;d:\\Anaconda3\\Library\\usr\\bin;d:\\Anaconda3\\Library\\bin;d:\\Anaconda3\\Scripts;D:\\Python\\Python37-32\\Scripts;D:\\Python\\Python37-32;C:\\Users\\Yehu_Zheng\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Program Files\\Bandizip;D:\\PyCharm Community Edition 2020.2.2\\bin;.&#39;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="对目录进行操作"><a href="#对目录进行操作" class="headerlink" title="对目录进行操作"></a>对目录进行操作</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#操作文件和目录的函数一部分放在os模块中，一部分放在os.path模块中，这一点要注意一下。查看、创建和删除目录可以这么调用</span></span><br><span class="line"><span class="comment">#查看当前目录的绝对路径</span></span><br><span class="line">print(os.path.abspath(<span class="string">&#x27;.&#x27;</span>))</span><br><span class="line"><span class="comment">#在某个目录下创建一个新目录，首先把新目录的完整路径表示出来</span></span><br><span class="line">print(os.path.join(<span class="string">&#x27;D:\jupyternotebook&#x27;</span>, <span class="string">&#x27;testdir&#x27;</span>))</span><br><span class="line"><span class="comment">#然后创建一个目录:</span></span><br><span class="line">os.mkdir(<span class="string">r&#x27;D:\jupyternotebook\testdir&#x27;</span>) <span class="comment">#注意创建时使用转义字符</span></span><br><span class="line"><span class="comment">#删除一个目录</span></span><br><span class="line">os.rmdir(<span class="string">r&#x27;D:\jupyternotebook\testdir&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">D:\jupyternotebook</span><br><span class="line">D:\jupyternotebook\testdir</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>注意创建新目录时不要拼接字符串，而要通过os.path.join()函数，这样可以正确处理不同操作系统的路径分隔符<br>在windows中路径是\反斜杠表示<br>而在Linux中是/正斜杠表示<br>同样的分隔目录路径也是这样要通过os.path.split()函数这样可以把一个路径拆分为两部分，后一部分总是最后级别的目录或文件名</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">os.path.split(<span class="string">&#x27;/Users/michael/testdir/file.txt&#x27;</span>) <span class="comment">#分隔linux文件路径名</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(&#39;&#x2F;Users&#x2F;michael&#x2F;testdir&#39;, &#39;file.txt&#39;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>os.path.splitext()可以直接让你得到文件扩展名</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">os.path.splitext(<span class="string">&#x27;/Users/michael/testdir/file.txt&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(&#39;&#x2F;Users&#x2F;michael&#x2F;testdir&#x2F;file&#39;, &#39;.txt&#39;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>以上均不要求路径真实存在 只是对字符串进行操作</p>
<h4 id="对文件进行操作"><a href="#对文件进行操作" class="headerlink" title="对文件进行操作"></a>对文件进行操作</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#对文件重命名</span></span><br><span class="line">os.rename(<span class="string">&#x27;test.txt&#x27;</span>, <span class="string">&#x27;test.py&#x27;</span>)</span><br><span class="line"><span class="comment"># 删掉文件:</span></span><br><span class="line">os.remove(<span class="string">&#x27;test.py&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>复制文件不在os模块中 复制文件并非由操作系统提供的系统调用 理论上讲 读写文件可以完成文件复制，只不过要多写很多代码<br>幸运的是shutil模块提供了copyfile()的函数，你还可以在shutil模块中找到很多实用函数，它们可以看做是os模块的补充</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#列出当前目录下所有.py文件</span></span><br><span class="line">[x <span class="keyword">for</span> x <span class="keyword">in</span> os.listdir(<span class="string">&#x27;.&#x27;</span>) <span class="keyword">if</span> os.path.isfile(x) <span class="keyword">and</span> os.path.splitext(x)[<span class="number">1</span>]==<span class="string">&#x27;.py&#x27;</span>]</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[]</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="序列化"><a href="#序列化" class="headerlink" title="序列化"></a>序列化</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#在程序运行的过程中，所有的变量都是在内存中，比如，定义一个dict</span></span><br><span class="line">d = <span class="built_in">dict</span>(name=<span class="string">&#x27;Bob&#x27;</span>, age=<span class="number">20</span>, score=<span class="number">88</span>)</span><br><span class="line"><span class="comment">#可以随时修改变量，比如把name改成&#x27;Bill&#x27;，但是一旦程序结束，变量所占用的内存就被操作系统全部回收。</span></span><br><span class="line"><span class="comment">#如果没有把修改后的&#x27;Bill&#x27;存储到磁盘上，下次重新运行程序，变量又被初始化为&#x27;Bob&#x27;。</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>序列化的意思就是把变量从内存中变成可存储或传输的过程称之为序列化，在Python中叫pickling，在其他语言中也被称之为serialization，marshalling，flattening等等，都是一个意思。<br>序列化之后，就可以把序列化后的内容写入磁盘，或者通过网络传输到别的机器上。<br>反过来，把变量内容从序列化的对象重新读到内存里称之为反序列化，即unpickling</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#python中提供了pickle模块来实现序列化    pickle.dumps()方法把任意对象序列化成一个bytes，然后，就可以把这个bytes写入文件</span></span><br><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line">d = <span class="built_in">dict</span>(name=<span class="string">&#x27;Bob&#x27;</span>, age=<span class="number">20</span>, score=<span class="number">88</span>)</span><br><span class="line">pickle.dumps(d)  <span class="comment">#将任意对象序列化 字节表示之后就可以存储了</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">b&#39;\x80\x03&#125;q\x00(X\x04\x00\x00\x00nameq\x01X\x03\x00\x00\x00Bobq\x02X\x03\x00\x00\x00ageq\x03K\x14X\x05\x00\x00\x00scoreq\x04KXu.&#39;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#pickle.dump()直接把对象序列化后写入一个file-like Object</span></span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">&#x27;dump.txt&#x27;</span>, <span class="string">&#x27;wb&#x27;</span>)</span><br><span class="line">pickle.dump(d, f)</span><br><span class="line">f.close()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>反序列化</p>
<p>当我们要把对象从磁盘读到内存时，可以先把内容读到一个bytes，然后用pickle.loads()方法反序列化出对象，<br>也可以直接用pickle.load()方法从一个  file-like Object中直接反序列化出对象。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">f = <span class="built_in">open</span>(<span class="string">&#x27;dump.txt&#x27;</span>, <span class="string">&#x27;rb&#x27;</span>)</span><br><span class="line">d = pickle.load(f)</span><br><span class="line">f.close()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>序列化存在的问题：Pickle的问题和所有其他编程语言特有的序列化问题一样，就是它只能用于Python，并且可能不同版本的Python彼此都不兼容，因此，只能用Pickle保存那些不重要的数据，不能成功地反序列化也没关系。</p>
<h4 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h4><p>为了解决不兼容的问题，我们必须把对象序列化为标准格式，比如XML，但更好的方法是序列化为JSON，因为JSON表示出来就是一个字符串，可以被所有语言读取，也可以方便地存储到磁盘或者通过网络传输。JSON不仅是标准格式，并且比XML更快，而且可以直接在Web页面中读取，非常方便。<br>json表示的对象就是标准的JavaScript语言的对象，JSON和Python内置的数据类型对应如下</p>
<table>
    <tr>
        <th>json</th>
        <th>python</th>
    </tr>
    <tr>
        <th>{}</th>
        <th>dict</th>
    </tr>    
    <tr>
        <th>[]</th>
        <th>list</th>
    </tr>
    <tr>
        <th>"string"</th>
        <th>str</th>
    </tr>
    <tr>
        <th>1234.56</th>
        <th>int或float</th>
    </tr>
    <tr>
        <th>true/false</th>
        <th>True/False</th>
    </tr>
    <tr>
        <th>null</th>
        <th>None</th>
    </tr>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#用json.dumps() 可以返回一个str，内容就是标准的JSON</span></span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line">d = <span class="built_in">dict</span>(name=<span class="string">&#x27;Bob&#x27;</span>, age=<span class="number">20</span>, score=<span class="number">88</span>)</span><br><span class="line">json.dumps(d)</span><br><span class="line"><span class="comment">#同样的可以用json.dump()序列化之后 存储到一个file-like Object之中</span></span><br><span class="line"><span class="comment">#f=open(&quot;a.txt&quot;,&quot;w&quot;)</span></span><br><span class="line"><span class="comment">#json.dump(d,f)</span></span><br><span class="line"><span class="comment">#f.close()</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#39;&#123;&quot;age&quot;: 20, &quot;score&quot;: 88, &quot;name&quot;: &quot;Bob&quot;&#125;&#39;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#要把JSON反序列化为Python对象，用loads()或者对应的load()方法，前者把JSON的字符串反序列化，后者从file-like Object中读取字符串并反序列化：</span></span><br><span class="line">json_str = <span class="string">&#x27;&#123;&quot;age&quot;: 20, &quot;score&quot;: 88, &quot;name&quot;: &quot;Bob&quot;&#125;&#x27;</span></span><br><span class="line">json.loads(json_str)</span><br><span class="line"><span class="comment">#由于JSON标准规定JSON编码是UTF-8，所以我们总是能正确地在Python的str与JSON的字符串之间转换</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#39;age&#39;: 20, &#39;score&#39;: 88, &#39;name&#39;: &#39;Bob&#39;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="json进阶-如何序列化类对象"><a href="#json进阶-如何序列化类对象" class="headerlink" title="json进阶 如何序列化类对象"></a>json进阶 如何序列化类对象</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age, score</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.score = score</span><br><span class="line">s = Student(<span class="string">&#x27;Bob&#x27;</span>, <span class="number">20</span>, <span class="number">88</span>)</span><br><span class="line">print(json.dumps(s))</span><br><span class="line"><span class="comment">#给出了typeerror 意思是student类并不是可序列化的类型</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">---------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">TypeError                                 Traceback (most recent call last)</span><br><span class="line"></span><br><span class="line">&lt;ipython-input-20-4509d60367de&gt; in &lt;module&gt;</span><br><span class="line">      6         self.score &#x3D; score</span><br><span class="line">      7 s &#x3D; Student(&#39;Bob&#39;, 20, 88)</span><br><span class="line">----&gt; 8 print(json.dumps(s))</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">d:\Anaconda3\lib\json\__init__.py in dumps(obj, skipkeys, ensure_ascii, check_circular, allow_nan, cls, indent, separators, default, sort_keys, **kw)</span><br><span class="line">    229         cls is None and indent is None and separators is None and</span><br><span class="line">    230         default is None and not sort_keys and not kw):</span><br><span class="line">--&gt; 231         return _default_encoder.encode(obj)</span><br><span class="line">    232     if cls is None:</span><br><span class="line">    233         cls &#x3D; JSONEncoder</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">d:\Anaconda3\lib\json\encoder.py in encode(self, o)</span><br><span class="line">    197         # exceptions aren&#39;t as detailed.  The list call should be roughly</span><br><span class="line">    198         # equivalent to the PySequence_Fast that &#39;&#39;.join() would do.</span><br><span class="line">--&gt; 199         chunks &#x3D; self.iterencode(o, _one_shot&#x3D;True)</span><br><span class="line">    200         if not isinstance(chunks, (list, tuple)):</span><br><span class="line">    201             chunks &#x3D; list(chunks)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">d:\Anaconda3\lib\json\encoder.py in iterencode(self, o, _one_shot)</span><br><span class="line">    255                 self.key_separator, self.item_separator, self.sort_keys,</span><br><span class="line">    256                 self.skipkeys, _one_shot)</span><br><span class="line">--&gt; 257         return _iterencode(o, 0)</span><br><span class="line">    258 </span><br><span class="line">    259 def _make_iterencode(markers, _default, _encoder, _indent, _floatstr,</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">d:\Anaconda3\lib\json\encoder.py in default(self, o)</span><br><span class="line">    177 </span><br><span class="line">    178         &quot;&quot;&quot;</span><br><span class="line">--&gt; 179         raise TypeError(f&#39;Object of type &#123;o.__class__.__name__&#125; &#39;</span><br><span class="line">    180                         f&#39;is not JSON serializable&#39;)</span><br><span class="line">    181 </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">TypeError: Object of type Student is not JSON serializable</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#默认情况下，dumps()方法不知道如何将Student实例变为一个JSON的&#123;&#125;对象 dumps()提供了很多参数其中default参数给定一个函数 </span></span><br><span class="line"><span class="comment">#这个函数可以自定义序列化的方式</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">student2dict</span>(<span class="params">std</span>):</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="string">&#x27;name&#x27;</span>: std.name,</span><br><span class="line">        <span class="string">&#x27;age&#x27;</span>: std.age,</span><br><span class="line">        <span class="string">&#x27;score&#x27;</span>: std.score</span><br><span class="line">    &#125;</span><br><span class="line">print(json.dumps(s, default=student2dict))</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;&quot;name&quot;: &quot;Bob&quot;, &quot;age&quot;: 20, &quot;score&quot;: 88&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>但是如果想要把这种方法应用到其他不同的类，对每个类都要写相应的函数就很麻烦，实际上类有个__dict__属性,用来存储实例变量</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#通常class的实例都有一个__dict__属性，它就是一个dict，用来存储实例变量。也有少数例外，比如定义了__slots__的class</span></span><br><span class="line">json.dumps(s,default=<span class="keyword">lambda</span> obj:obj.__dict__)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#反序列化的时候也需要写出相应的函数</span></span><br><span class="line"><span class="comment">#loads()方法首先转换出一个dict对象，然后，我们传入的object_hook函数负责把dict转换为Student实例</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dict2student</span>(<span class="params">d</span>):</span></span><br><span class="line">    <span class="keyword">return</span> Student(d[<span class="string">&#x27;name&#x27;</span>], d[<span class="string">&#x27;age&#x27;</span>], d[<span class="string">&#x27;score&#x27;</span>])</span><br><span class="line">json_str = <span class="string">&#x27;&#123;&quot;age&quot;: 20, &quot;score&quot;: 88, &quot;name&quot;: &quot;Bob&quot;&#125;&#x27;</span></span><br><span class="line">print(json.loads(json_str, object_hook=dict2student))</span><br><span class="line"><span class="comment">#打印出的是反序列化的Student实例对象。</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;__main__.Student object at 0x00000218BD737FC8&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="csv"><a href="#csv" class="headerlink" title="csv"></a>csv</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#读取</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;a.csv&quot;</span>,<span class="string">&quot;r&quot;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    ls=[]</span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> f:</span><br><span class="line">        ls.append(line.strip(<span class="string">&quot;\n&quot;</span>).split(<span class="string">&quot;,&quot;</span>)) <span class="comment">#逐行读取之后去掉每行的换行符，然后用&quot;,”进行分隔</span></span><br><span class="line"><span class="keyword">for</span> res <span class="keyword">in</span> ls:</span><br><span class="line">    print(ls)</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line"><span class="comment">#写入</span></span><br><span class="line">ls=[[<span class="string">&quot;编号&quot;</span>,<span class="string">&quot;数学成绩&quot;</span>,<span class="string">&quot;语文成绩&quot;</span>],[<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;100&#x27;</span>,<span class="string">&#x27;98&#x27;</span>],[<span class="string">&quot;2&quot;</span>,<span class="string">&quot;96&quot;</span>,<span class="string">&quot;99&quot;</span>],[<span class="string">&quot;3&quot;</span>,<span class="string">&quot;97&quot;</span>,<span class="string">&quot;95&quot;</span>]]</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;socre.csv&quot;</span>,<span class="string">&quot;w&quot;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> ls:</span><br><span class="line">        f.write(<span class="string">&quot;,&quot;</span>.join(row)+<span class="string">&quot;\n&quot;</span>) <span class="comment">#join可以将列表中元素组合成字符串，末尾加换行符</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="12-进程和线程"><a href="#12-进程和线程" class="headerlink" title="12 进程和线程"></a>12 进程和线程</h1><h1 id="13-常用内建模块"><a href="#13-常用内建模块" class="headerlink" title="13 常用内建模块"></a>13 常用内建模块</h1></table>
    </div>

    
    
    

<div>
  
    <div>
    
        <div style="text-align:center;color: #ccc;font-size:14px;">-------------本文结束<i class="fa fa-paw"></i>感谢您的阅读-------------</div>
    
</div>
  
</div>
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>郑嘉晖
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://xcode361.github.io/2021/03/22/python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" title="python基础知识">https://xcode361.github.io/2021/03/22/python基础知识/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/03/05/%E6%95%B0%E6%8D%AE%E5%8C%96%E7%AE%A1%E7%90%86%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" rel="prev" title="数据化管理读书笔记">
      <i class="fa fa-chevron-left"></i> 数据化管理读书笔记
    </a></div>
      <div class="post-nav-item">
    <a href="/2021/03/22/pandas%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" rel="next" title="pandas基础知识">
      pandas基础知识 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#python%E7%AE%80%E4%BB%8B%EF%BC%9A"><span class="nav-number">1.</span> <span class="nav-text">python简介：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#python%E8%A7%A3%E9%87%8A%E5%99%A8%EF%BC%9A"><span class="nav-number">2.</span> <span class="nav-text">python解释器：</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#0%E8%BE%93%E5%85%A5%E4%B8%8E%E8%BE%93%E5%87%BA"><span class="nav-number"></span> <span class="nav-text">0输入与输出</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#1-python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B8%8E%E5%8F%98%E9%87%8F-%E3%80%81%E5%B8%B8%E7%94%A8%E8%BF%90%E7%AE%97%E7%AC%A6%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%8E%E7%BC%96%E7%A0%81%E9%97%AE%E9%A2%98"><span class="nav-number"></span> <span class="nav-text">1 python基础知识: 数据类型与变量 、常用运算符、字符与编码问题</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-%E6%8E%A7%E5%88%B6%E6%B5%81%E7%A8%8B-%E5%8C%85%E6%8B%AC%E9%A1%BA%E5%BA%8F%E6%B5%81%E7%A8%8B-%E5%88%86%E6%94%AF%E6%B5%81%E7%A8%8B-%E5%BE%AA%E7%8E%AF%E6%B5%81%E7%A8%8B"><span class="nav-number"></span> <span class="nav-text">2 控制流程 包括顺序流程 分支流程 循环流程</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B-%E5%88%97%E8%A1%A8-%E5%85%83%E7%BB%84-%E5%AD%97%E7%AC%A6%E4%B8%B2-%E4%B8%89%E8%80%85%E9%83%BD%E6%98%AF%E5%BA%8F%E5%88%97-%E5%AD%97%E5%85%B8-%E9%9B%86%E5%90%88"><span class="nav-number"></span> <span class="nav-text">3 常用数据类型  列表 元组 字符串 三者都是序列 字典 集合</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#3-1%E5%88%97%E8%A1%A8"><span class="nav-number">1.</span> <span class="nav-text">3.1列表</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-2-%E5%85%83%E7%BB%84"><span class="nav-number">2.</span> <span class="nav-text">3.2 元组</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-3-%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-number">3.</span> <span class="nav-text">3.3 字符串</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-4%E5%AD%97%E5%85%B8"><span class="nav-number">4.</span> <span class="nav-text">3.4字典</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-5-%E9%9B%86%E5%90%88"><span class="nav-number">5.</span> <span class="nav-text">3.5 集合</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#4-%E5%87%BD%E6%95%B0"><span class="nav-number"></span> <span class="nav-text">4 函数</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%8D%E7%BD%AE%E5%8F%82%E6%95%B0-%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0-%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0-%E5%85%B3%E9%94%AE%E5%AD%97%E5%8F%82%E6%95%B0-%E5%91%BD%E5%90%8D%E5%85%B3%E9%94%AE%E5%AD%97%E5%8F%82%E6%95%B0"><span class="nav-number">1.</span> <span class="nav-text">位置参数 默认参数 可变参数 关键字参数 命名关键字参数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%94%E5%9B%9E%E5%80%BC%E9%97%AE%E9%A2%98"><span class="nav-number">2.</span> <span class="nav-text">返回值问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%80%92%E5%BD%92%E5%87%BD%E6%95%B0%E4%B8%8E%E5%B0%BE%E9%80%92%E5%BD%92"><span class="nav-number">3.</span> <span class="nav-text">递归函数与尾递归</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%87%BD%E6%95%B0%E5%8F%98%E9%87%8F%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F-%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E4%B8%8E%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F"><span class="nav-number">4.</span> <span class="nav-text">函数变量的作用域 局部变量与全局变量</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F-%E6%A0%BC%E5%BC%8F-lambda-%E5%8F%82%E6%95%B0%EF%BC%9A%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="nav-number">5.</span> <span class="nav-text">lambda表达式    格式 lambda 参数：返回值</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%87%BD%E6%95%B0%E8%A7%A3%E5%86%B3%E9%97%AE%E9%A2%98-%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B-%E5%88%86%E8%80%8C%E6%B2%BB%E4%B9%8B"><span class="nav-number">6.</span> <span class="nav-text">函数解决问题 自顶向下 分而治之</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1%E3%80%81%E8%BE%93%E5%85%A5%E5%8E%9F%E5%A7%8B%E6%95%B0%E6%8D%AE"><span class="nav-number">7.</span> <span class="nav-text">1、输入原始数据</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2%E3%80%81%E8%8E%B7%E5%8F%96%E6%A8%A1%E6%8B%9F%E7%BB%93%E6%9E%9C-%E5%A4%9A%E5%9C%BA%E6%AF%94%E8%B5%9B%E6%A8%A1%E6%8B%9F"><span class="nav-number">8.</span> <span class="nav-text">2、获取模拟结果 多场比赛模拟</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2%E3%80%81%E8%8E%B7%E5%8F%96%E6%A8%A1%E6%8B%9F%E7%BB%93%E6%9E%9C-%E5%8D%95%E5%9C%BA%E6%AF%94%E8%B5%9B"><span class="nav-number">9.</span> <span class="nav-text">2、获取模拟结果  单场比赛</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#5%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B"><span class="nav-number"></span> <span class="nav-text">5函数式编程</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0-map-reduce-filter-sorted-%E8%BF%94%E5%9B%9E%E5%87%BD%E6%95%B0-%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0-%E8%A3%85%E9%A5%B0%E5%99%A8-%E5%81%8F%E5%87%BD%E6%95%B0"><span class="nav-number">1.</span> <span class="nav-text">高阶函数(map&#x2F;reduce filter sorted)  返回函数 匿名函数 装饰器 偏函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%86%85%E5%B5%8C%E5%87%BD%E6%95%B0%E5%92%8C%E9%97%AD%E5%8C%85"><span class="nav-number">1.1.</span> <span class="nav-text">内嵌函数和闭包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0-BIF-map-reduce-filter-sorted%EF%BC%88%E4%B8%89%E8%80%85%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0%EF%BC%89-zip%E5%87%BD%E6%95%B0"><span class="nav-number">1.2.</span> <span class="nav-text">内置函数(BIF) map&#x2F;reduce filter sorted（三者高阶函数）   zip函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%94%E5%9B%9E%E5%87%BD%E6%95%B0"><span class="nav-number">1.3.</span> <span class="nav-text">返回函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0-%E5%AE%9E%E9%99%85%E4%B8%8A%E5%B0%B1%E6%98%AFlambda%E8%A1%A8%E8%BE%BE%E5%BC%8F-lambda-%E5%8F%98%E9%87%8F%EF%BC%9A%E5%87%BD%E6%95%B0%E4%BD%93"><span class="nav-number">2.</span> <span class="nav-text">匿名函数 实际上就是lambda表达式 lambda 变量：函数体</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%A9%E7%94%A8%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0%E7%BB%9F%E8%AE%A1%E5%AD%97%E7%AC%A6%E5%B9%B6%E8%BF%9B%E8%A1%8C%E6%8E%92%E5%BA%8F"><span class="nav-number">3.</span> <span class="nav-text">利用匿名函数统计字符并进行排序</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A3%85%E9%A5%B0%E5%99%A8"><span class="nav-number">4.</span> <span class="nav-text">装饰器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%81%8F%E5%87%BD%E6%95%B0"><span class="nav-number">5.</span> <span class="nav-text">偏函数</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#6python%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7%EF%BC%9A%E5%88%87%E7%89%87-%E8%BF%AD%E4%BB%A3-%E5%88%97%E8%A1%A8%E7%94%9F%E6%88%90%E5%BC%8F-%E7%94%9F%E6%88%90%E5%99%A8-%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="nav-number"></span> <span class="nav-text">6python高级特性：切片 迭代 列表生成式 生成器 迭代器</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%AD%E4%BB%A3"><span class="nav-number">1.</span> <span class="nav-text">迭代</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%97%E8%A1%A8%E7%94%9F%E6%88%90%E5%BC%8F"><span class="nav-number">2.</span> <span class="nav-text">列表生成式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%94%9F%E6%88%90%E5%99%A8"><span class="nav-number">3.</span> <span class="nav-text">生成器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="nav-number">4.</span> <span class="nav-text">迭代器</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#7-%E6%A8%A1%E5%9D%97"><span class="nav-number"></span> <span class="nav-text">7 模块</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E6%A8%A1%E5%9D%97"><span class="nav-number">1.</span> <span class="nav-text">使用模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A8%A1%E5%9D%97%E6%90%9C%E7%B4%A2%E8%B7%AF%E5%BE%84"><span class="nav-number">1.1.</span> <span class="nav-text">模块搜索路径</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#if-name-%E2%80%99-main%E2%80%98-%E7%94%A8%E6%9D%A5%E5%81%9A%E6%B5%8B%E8%AF%95"><span class="nav-number">1.2.</span> <span class="nav-text">if _name__&#x3D;&#x3D;’_main‘ 用来做测试</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#8%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B%EF%BC%9A"><span class="nav-number"></span> <span class="nav-text">8面向对象编程：</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E5%92%8C%E5%AE%9E%E4%BE%8B"><span class="nav-number">1.</span> <span class="nav-text">类和实例</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AE%BF%E9%97%AE%E9%99%90%E5%88%B6"><span class="nav-number">2.</span> <span class="nav-text">访问限制</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#private%E5%92%8Cpublic"><span class="nav-number">2.1.</span> <span class="nav-text">private和public</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%A7%E6%89%BF%E5%92%8C%E5%A4%9A%E6%80%81"><span class="nav-number">3.</span> <span class="nav-text">继承和多态</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8A%A8%E6%80%81%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84%E2%80%9C%E9%B8%AD%E5%AD%90%E7%B1%BB%E5%9E%8B%E2%80%9D"><span class="nav-number">4.</span> <span class="nav-text">动态语言中的“鸭子类型”</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E5%AF%B9%E8%B1%A1%E4%BF%A1%E6%81%AF-%E5%A6%82%E4%BD%95%E7%9F%A5%E9%81%93%E6%9F%90%E4%B8%AA%E5%AF%B9%E8%B1%A1%E6%9C%89%E5%93%AA%E4%BA%9B%E7%B1%BB%E5%9E%8B%EF%BC%8C%E6%9C%89%E4%BB%80%E4%B9%88%E6%96%B9%E6%B3%95"><span class="nav-number">5.</span> <span class="nav-text">获取对象信息  (如何知道某个对象有哪些类型，有什么方法)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%9E%E4%BE%8B%E5%B1%9E%E6%80%A7%E5%92%8C%E7%B1%BB%E5%B1%9E%E6%80%A7"><span class="nav-number">6.</span> <span class="nav-text">实例属性和类属性</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#9%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B"><span class="nav-number"></span> <span class="nav-text">9面向对象高级编程</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-slots"><span class="nav-number">1.</span> <span class="nav-text">使用__slots__</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-property"><span class="nav-number">2.</span> <span class="nav-text">使用@property</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#10%E9%94%99%E8%AF%AF%E8%B0%83%E8%AF%95%E5%92%8C%E6%B5%8B%E8%AF%95"><span class="nav-number"></span> <span class="nav-text">10错误调试和测试</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#11IO%E7%BC%96%E7%A8%8B"><span class="nav-number"></span> <span class="nav-text">11IO编程</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E8%AF%BB%E5%86%99"><span class="nav-number">1.</span> <span class="nav-text">文件读写</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#file-like-Object"><span class="nav-number">1.0.1.</span> <span class="nav-text">file-like Object</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%80%BB%E7%BB%93%E6%96%87%E4%BB%B6%E8%AF%BB%E5%8F%96"><span class="nav-number">2.</span> <span class="nav-text">总结文件读取</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E7%9A%84%E5%86%99%E5%85%A5-write%E5%92%8Cwritelines"><span class="nav-number">3.</span> <span class="nav-text">文件的写入 write和writelines</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%97%A2%E8%AF%BB%E5%8F%88%E5%86%99%EF%BC%88r-w-a-%EF%BC%89"><span class="nav-number">4.</span> <span class="nav-text">既读又写（r+,w+,a+）</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#r"><span class="nav-number"></span> <span class="nav-text">r+</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#w"><span class="nav-number">1.</span> <span class="nav-text">w+</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#a"><span class="nav-number">2.</span> <span class="nav-text">a+</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#StringIO%E5%92%8CBytesIO"><span class="nav-number">3.</span> <span class="nav-text">StringIO和BytesIO</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C%E6%96%87%E4%BB%B6%E5%92%8C%E7%9B%AE%E5%BD%95"><span class="nav-number">3.1.</span> <span class="nav-text">操作文件和目录</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="nav-number">3.1.1.</span> <span class="nav-text">环境变量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AF%B9%E7%9B%AE%E5%BD%95%E8%BF%9B%E8%A1%8C%E6%93%8D%E4%BD%9C"><span class="nav-number">3.1.2.</span> <span class="nav-text">对目录进行操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AF%B9%E6%96%87%E4%BB%B6%E8%BF%9B%E8%A1%8C%E6%93%8D%E4%BD%9C"><span class="nav-number">3.1.3.</span> <span class="nav-text">对文件进行操作</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BA%8F%E5%88%97%E5%8C%96"><span class="nav-number">3.2.</span> <span class="nav-text">序列化</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#JSON"><span class="nav-number">3.2.1.</span> <span class="nav-text">JSON</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#json%E8%BF%9B%E9%98%B6-%E5%A6%82%E4%BD%95%E5%BA%8F%E5%88%97%E5%8C%96%E7%B1%BB%E5%AF%B9%E8%B1%A1"><span class="nav-number">3.2.2.</span> <span class="nav-text">json进阶 如何序列化类对象</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#csv"><span class="nav-number">3.3.</span> <span class="nav-text">csv</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#12-%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B"><span class="nav-number"></span> <span class="nav-text">12 进程和线程</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#13-%E5%B8%B8%E7%94%A8%E5%86%85%E5%BB%BA%E6%A8%A1%E5%9D%97"><span class="nav-number"></span> <span class="nav-text">13 常用内建模块</span></a></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="郑嘉晖"
      src="/images/author.jpg">
  <p class="site-author-name" itemprop="name">郑嘉晖</p>
  <div class="site-description" itemprop="description">不断进步</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">18</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/xcode361" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;xcode361" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="/819119351@qq.com" title="E-Mail → 819119351@qq.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">郑嘉晖</span>
</div>

        








      </div>
    </footer>
  </div>

  
  
  <script color='0,0,0' opacity='0.5' zIndex='-1' count='150' src="/lib/canvas-nest/canvas-nest.min.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/hijiki.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
<!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/clicklove.js"></script>